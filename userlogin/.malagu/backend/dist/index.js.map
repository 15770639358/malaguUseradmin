{"version":3,"sources":["webpack/universalModuleDefinition","webpack/bootstrap","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\annotation\\aspect.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\annotation\\autowired.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\annotation\\component.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\annotation\\constant.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\annotation\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\annotation\\injectable.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\annotation\\named.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\annotation\\optional.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\annotation\\post-construct.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\annotation\\tagged.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\annotation\\target-name.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\annotation\\value.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\aop\\aop-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\aop\\aop-proxy-factory.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\aop\\class-filter.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\aop\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\application\\application-error.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\application\\application-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\application\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\config\\config-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\config\\config-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\config\\config-util.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\config\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\constants.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\container\\auto-bind.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\container\\container-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\container\\container-util.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\container\\dynamic-container.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\container\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\el\\core-context-initializer.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\el\\expression-compiler.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\el\\expression-context-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\el\\expression-handler.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\el\\expression-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\el\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\el\\jexl-engine-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\error\\cutom-error.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\error\\illegal-argument-error.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\error\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\error\\validation-errors.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\logger\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\logger\\logger-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\logger\\logger.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\pipe\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\pipe\\pipe-manager.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\pipe\\pipe-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\pipe\\pipe-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\pipe\\pipe-transtorm.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\utils\\annotation-util.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\utils\\class-util.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\utils\\disposable.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\utils\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\utils\\metadata-util.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\utils\\os.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\utils\\prioritizeable.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\utils\\promise-util.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\common\\utils\\proxy-util.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\node\\application\\backend-application-state.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\node\\application\\backend-application.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\node\\application\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\node\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\core\\src\\node\\module.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\fc-adapter\\src\\node\\module.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\common\\constants.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\common\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\annotation\\body.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\annotation\\catch.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\annotation\\controller.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\annotation\\cookie.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\annotation\\header.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\annotation\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\annotation\\method.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\annotation\\param.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\annotation\\query.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\annotation\\session.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\annotation\\view.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\constants.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\handler\\handler-adapter.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\handler\\handler-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\handler\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\handler\\route-builder.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\handler\\route-metadata-matcher.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\handler\\route-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\module.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\resolver\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\resolver\\method-args-resolver-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\resolver\\method-args-resolver.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\resolver\\resolver-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\resolver\\response-resolver-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\resolver\\response-resolver.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\resolver\\view-resolver-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\resolver\\view-resolver.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\view\\html-view.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\view\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\view\\json-view.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\view\\text-view.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\view\\view-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\mvc\\src\\node\\view\\view-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\annotation\\autorpc.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\annotation\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\annotation\\rpc.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\channal\\channel-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\channal\\http-channel.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\channal\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\constants.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\converter\\converter-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\converter\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\endpoint\\endpoint-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\endpoint\\endpoint-resolver.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\endpoint\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\error\\error.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\error\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\factory\\connection-factory.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\factory\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\factory\\proxy-factory.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\factory\\reader.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\factory\\writer.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\handler\\connection-handler.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\handler\\handler-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\handler\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\module.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\processor\\client-config-processor.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\processor\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\processor\\processor-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\proxy\\http-proxy-creator.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\proxy\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\proxy\\proxy-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\proxy\\proxy-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\utils\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\common\\utils\\rpc-util.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\node\\channel\\channel-manager.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\node\\channel\\channel-middleware.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\node\\channel\\channel-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\node\\channel\\channel-strategy.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\node\\channel\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\node\\handler\\handler-adapter.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\node\\handler\\handler-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\node\\handler\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\node\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\rpc\\src\\node\\module.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\client\\client-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\client\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\client\\rest-operations-factory.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\constants.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\http\\http-headers.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\http\\http-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\http\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\module.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\resolver\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\resolver\\path-resolver.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\resolver\\resolver-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\utils\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\common\\utils\\url-util.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\application\\dev-application-entry.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\context.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\cookies\\cookies-factory.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\cookies\\cookies-middleware.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\cookies\\cookies-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\cookies\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\cors\\cors-middleware.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\cors\\cors-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\cors\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\dispatcher\\dispatcher-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\dispatcher\\dispatcher.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\dispatcher\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\error\\error-hander-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\error\\error-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\error\\http-error.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\error\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\error\\not-found-error.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\handler\\handler-execution-chain.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\handler\\handler-mapping.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\handler\\handler-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\handler\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\http\\http-middleware.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\http\\http-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\http\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\matcher\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\matcher\\matcher-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\matcher\\request-matcher.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\middleware\\compose.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\middleware\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\middleware\\middleware-provider.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\module.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\redirect\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\redirect\\redirect-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\redirect\\redirect-strategy.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\session\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\session\\session-manager.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\session\\session-middleware.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\session\\session-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\session\\session-store.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\session\\session-strategy.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\session\\session.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\trace\\index.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\trace\\trace-id-resolver.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\trace\\trace-middleware.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\node_modules\\@malagu\\web\\src\\node\\trace\\trace-protocol.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\src\\node\\controller\\login.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\src\\node\\entity\\User.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\src\\node\\module.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\src\\node\\service\\loginService.ts","C:\\Users\\zenghuataoa\\Desktop\\useradminmicroservice\\userlogin\\src\\node\\utils\\responseData.ts","external \"axios\"","external \"class-transformer\"","external \"class-validator\"","external \"cookies\"","external \"cors\"","external \"crc\"","external \"express-http-context\"","external \"fs-extra\"","external \"inversify\"","external \"jexl\"","external \"loglevel\"","external \"mustache\"","external \"node-gzip\"","external \"path\"","external \"reflect-metadata\"","external \"source-map-support\"","external \"traverse\"","external \"ts-custom-error\"","external \"url-join\"","external \"url-pattern\"","external \"util\"","external \"uuid\"","external \"uuid/v4\"","external \"vscode-jsonrpc\"","external \"vscode-jsonrpc/lib/events\""],"names":[],"mappings":"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","file":"index.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse {\n\t\tvar a = factory();\n\t\tfor(var i in a) (typeof exports === 'object' ? exports : root)[i] = a[i];\n\t}\n})(global, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 0);\n","import { AOP_TAG } from '../aop/aop-protocol';\nimport { ComponentOption, applyComponentDecorator, COMPONENT_TAG, ComponentId, parseComponentOption } from './component';\n\nexport interface AspectOption extends ComponentOption {\n    id: ComponentId;\n    pointcut?: string;\n}\n\nexport type AdviceOrAspectOption = ComponentId | AspectOption;\n\nexport const Aspect = (adviceOrAspectOption: AdviceOrAspectOption): ClassDecorator => (target: any) => {\n    const option = <AspectOption>parseComponentOption(target, adviceOrAspectOption);\n    option.pointcut = option.pointcut || COMPONENT_TAG;\n    option.tag = { tag: AOP_TAG, value: option.pointcut };\n    applyComponentDecorator({ proxy: false, ...option }, target);\n};\n\n","import { inject, multiInject } from 'inversify';\nimport { ContainerUtil } from '../container';\nimport { ComponentId } from './component';\nimport { AnnotationUtil } from '../utils';\n\nexport interface AutowiredOption {\n    id?: ComponentId,\n    multi?: boolean;\n    detached?: boolean\n}\n\nexport type IdOrAutowiredOption = ComponentId | AutowiredOption;\n\nexport const Autowired = function (idOrOption?: IdOrAutowiredOption): PropertyDecorator & ParameterDecorator {\n    return (target: any, targetKey: string, index?: number) => {\n        const option = parseAutowiredOption(target, targetKey, index, idOrOption);\n        applyAutowiredDecorator(option, target, targetKey, index);\n    };\n};\n\nexport interface DoGetValue {\n     (option: AutowiredOption, target: any, property: string): any;\n}\n\nexport interface DoInject {\n    (option: AutowiredOption, t: any, k: string, i?: number): any;\n}\n\nconst defaultAutowiredOption: AutowiredOption = {\n    multi: false,\n    detached: false\n};\n\nexport function parseAutowiredOption(target: any, targetKey: string, index?: number, idOrOption?: IdOrAutowiredOption, ) {\n    const option = AnnotationUtil.getValueOrOption<AutowiredOption>(idOrOption);\n    const type = AnnotationUtil.getType(target, targetKey, index);\n    if (type === Array) {\n        option.multi = true;\n    }\n    option.id = option.id || type;\n\n    return { ...defaultAutowiredOption, ...option };\n}\n\nexport function applyAutowiredDecorator(option: AutowiredOption, target: any, targetKey: string, index?: number,\n    doInject: DoInject = ({ id, multi }, t: any, k, i) => multi ? multiInject(id!)(t, k, i) : inject(id!)(t, k, i),\n    doGetValue: DoGetValue = ({ id, multi }, t, property) => multi ? ContainerUtil.getAll(id!) : ContainerUtil.get(id!)) {\n\n    if (option.detached) {\n        if (index !== undefined) {\n            throw new Error(`The ${target.constructor.name} itself is not injected into the container, so the parameter injection of the constructor is not supported.`);\n        }\n        createAutowiredProperty(option, doGetValue, target, targetKey);\n    } else {\n        doInject(option, target, targetKey, index);\n\n    }\n    return option;\n}\n\nexport function createAutowiredProperty(option: AutowiredOption, doGetValue: DoGetValue, target: any, property: string): void {\n    let value: any;\n    Object.defineProperty(target, property, {\n        enumerable: true,\n        get(): any {\n            if (value !== undefined) {\n                return value;\n            }\n            value = doGetValue(option, target, property);\n\n            return value;\n        }\n    });\n}\n","import { decorate, injectable, interfaces, METADATA_KEY as inversify_METADATA_KEY } from 'inversify';\nimport { METADATA_KEY } from '../constants';\nimport { ConfigUtil } from '../config/config-util';\nimport { AnnotationUtil } from '../utils';\n\nexport type ComponentId = interfaces.ServiceIdentifier<any>;\n\nexport const COMPONENT_TAG = 'Component';\n\nexport enum Scope {\n    Request, Singleton, Transient\n}\n\nexport interface ComponentOption {\n    id?: ComponentId | ComponentId[];\n    scope?: Scope;\n    name?: string | number | symbol;\n    tag?: { tag: string | number | symbol, value: any },\n    default?: boolean;\n    when?: (request: interfaces.Request) => boolean\n    rebind?: boolean;\n    proxy?: boolean;\n    sysTags?: string[],\n    onActivation?: (context: interfaces.Context, t: any) => any;\n}\n\nexport interface ComponentMetadata {\n    ids:  ComponentId[];\n    scope: Scope;\n    name?: string | number | symbol;\n    tag?: { tag: string | number | symbol, value: any },\n    default?: boolean;\n    when?: (request: interfaces.Request) => boolean\n    rebind: boolean;\n    proxy: boolean;\n    sysTags: string[]\n    onActivation?: (context: interfaces.Context, t: any) => any;\n    target: any;\n}\n\nexport type IdOrComponentOption = ComponentId | ComponentId[] | ComponentOption;\n\nexport interface ComponentDecorator {\n    (idOrOption?: IdOrComponentOption): ClassDecorator;\n    (...ids: ComponentId[]): ClassDecorator;\n}\n\nexport const Component = <ComponentDecorator>function (...idOrOption: any): ClassDecorator {\n    return (t: any) => {\n        const option = parseComponentOption(t, idOrOption);\n        applyComponentDecorator(option, t);\n    };\n};\n\nconst defaultComponentOption: ComponentOption = {\n    scope: Scope.Singleton,\n    rebind: false,\n    proxy: false,\n    ...ConfigUtil.getRaw().malagu?.annotation?.Component\n};\n\nexport function parseComponentOption(target: any, idOrOption: any) {\n    if (Array.isArray(idOrOption)) {\n        if (idOrOption.length === 1) {\n            idOrOption = idOrOption[0];\n        } else if (idOrOption.length === 0) {\n            idOrOption = undefined;\n        }\n    }\n    const option = AnnotationUtil.getValueOrOption<ComponentOption>(idOrOption);\n\n    const parsed = { ...defaultComponentOption, ...option };\n    let ids: ComponentId[];\n    if (Array.isArray(parsed.id)) {\n        ids = parsed.id;\n    } else if (parsed.id && parsed.id !== target) {\n        ids = [ parsed.id, target ];\n    } else {\n        ids = [ target ];\n    }\n    parsed.id = ids;\n    parsed.sysTags = [ ...new Set<string>([ COMPONENT_TAG, ...parsed.sysTags || []]) ];\n    return parsed;\n}\n\nexport function applyComponentDecorator(option: ComponentOption, target: any) {\n\n    const isAlreadyDecorated = Reflect.hasOwnMetadata(inversify_METADATA_KEY.PARAM_TYPES, target);\n\n    if (!isAlreadyDecorated) {\n        decorate(injectable(), target);\n    }\n\n    const metadata: ComponentMetadata = {\n        target,\n        ids: Array.isArray(option.id) ? option.id : [ option.id || target ],\n        sysTags: option.sysTags!,\n        rebind: option.rebind!,\n        proxy: option.proxy!,\n        scope: option.scope!,\n        name: option.name,\n        tag: option.tag,\n        default: option.default,\n        when: option.when,\n        onActivation: option.onActivation\n    };\n\n    let metadatas: ComponentMetadata[] = Reflect.getMetadata(\n        METADATA_KEY.component,\n        Reflect\n    );\n\n    if (!metadatas) {\n        metadatas = [];\n        Reflect.defineMetadata(\n            METADATA_KEY.component,\n            metadatas,\n            Reflect\n        );\n    }\n    metadatas.push(metadata);\n    return metadata;\n}\n","import { METADATA_KEY } from '../constants';\nimport { ComponentId } from './component';\n\nexport interface ConstantOption {\n    id: ComponentId | ComponentId[];\n    rebind?: boolean;\n    constantValue?: any;\n}\n\nexport const Constant = function (id: ComponentId | ComponentId[], constantValue: any, rebind = false): ClassDecorator {\n        return (t: any) => {\n            applyConstantDecorator({ id, constantValue, rebind }, t);\n        };\n    };\n\nexport function applyConstantDecorator(option: ConstantOption, target: any): void {\n    const previousMetadata = Reflect.getMetadata(METADATA_KEY.constantValue, Reflect) || [];\n    const newMetadata = [option].concat(previousMetadata);\n    Reflect.defineMetadata(METADATA_KEY.constantValue, newMetadata, Reflect);\n}\n","export * from './autowired';\nexport * from './component';\nexport * from './value';\nexport * from './optional';\nexport * from './constant';\nexport * from './named';\nexport * from './tagged';\nexport * from './post-construct';\nexport * from './target-name';\nexport * from './injectable';\nexport * from './aspect';\n","import { injectable } from 'inversify';\n\nexport const Injectable = injectable;\n","import { named } from 'inversify';\nexport const Named = named;\n","import { optional } from 'inversify';\n\nexport const Optional = optional;\n","import { postConstruct } from 'inversify';\nexport const PostConstruct = postConstruct;\n","import { tagged } from 'inversify';\nexport const Tagged = tagged;\n","import { targetName } from 'inversify';\nexport const TargetName = targetName;\n","import { inject, named } from 'inversify';\nimport { ConfigUtil } from '../config/config-util';\nimport { AnnotationUtil } from '../utils';\n\nexport const VALUE = Symbol('Value');\n\nexport interface ValueOption {\n    el?: string,\n    detached?: boolean\n}\n\nexport type ElOrValueOption = string | ValueOption;\n\nexport const Value = function (elOrOption?: ElOrValueOption): PropertyDecorator & ParameterDecorator {\n    return (target: any, targetKey: string, index?: number) => {\n        const option = parseValueOption(target, targetKey, index, elOrOption);\n        applyValueDecorator(option, target, targetKey, index);\n    };\n};\n\nconst defaultValueOption: ValueOption = {\n    detached: false\n};\n\nexport function parseValueOption(target: any, targetKey: string, index?: number, elOrOption?: ElOrValueOption) {\n    const option = AnnotationUtil.getValueOrOption<ValueOption>(elOrOption, 'el');\n    option.el = option.el || targetKey;\n    return { ...defaultValueOption, ...option };\n}\n\nexport function applyValueDecorator(option: ValueOption, target: any, targetKey: string, index?: number) {\n    if (option.detached) {\n        if (index !== undefined) {\n            throw new Error(`The ${target.constructor.name} itself is not injected into the container, so the parameter injection of the constructor is not supported.`);\n        }\n        createValueProperty(option, target, targetKey);\n        return;\n    }\n\n    const el = option.el!;\n    inject(VALUE)(target, targetKey, index);\n    named(el)(target, targetKey, index);\n    return option;\n}\n\nexport function createValueProperty(option: ValueOption, target: any, property: string): void {\n    Object.defineProperty(target, property, {\n        enumerable: true,\n        get(): any {\n            const el = option.el!;\n            return ConfigUtil.get(el);\n        }\n    });\n}\n","import { ComponentMetadata } from '../annotation';\nimport { Newable } from '../utils';\n\nexport const AOP_TAG = 'AOP_TAG';\n\nexport const MethodBeforeAdvice = Symbol('MethodBeforeAdvice');\nexport const AfterReturningAdvice = Symbol('AfterReturningAdvice');\nexport const AfterThrowsAdvice = Symbol('AfterThrowsAdvice');\nexport const AopProxyFactory = Symbol('AopProxyFactory');\nexport const ClassFilter = Symbol('ClassFilter');\nexport const MethodMatcher = Symbol('MethodMatcher');\n\nexport interface Advice { }\n\nexport interface BeforeAdvice extends Advice { }\n\nexport interface AfterAdvice extends Advice { }\n\nexport interface MethodBeforeAdvice extends BeforeAdvice {\n\n    before(method: string | number | symbol, args: any[], target: any): Promise<void>;\n\n}\n\nexport interface AfterReturningAdvice extends AfterAdvice {\n\n    afterReturning(returnValue: any, method: string | number | symbol, args: any[], target: any): Promise<void>;\n\n}\n\nexport interface AfterThrowsAdvice extends AfterAdvice {\n\n    afterThrows(error: any, method: string | number | symbol, args: any[], target: any): Promise<void>;\n\n}\n\nexport interface AopProxy {\n    getPorxy(): any\n}\n\nexport interface ProxyConfig {\n    target: any;\n    metadata: ComponentMetadata;\n}\n\nexport interface AopProxyFactory {\n    create(config: ProxyConfig): AopProxy;\n}\n\nexport interface ClassFilter {\n    matches(clazz: Newable<any>, metadata: ComponentMetadata): boolean;\n}\n\nexport interface MethodMatcher {\n\tmatches(method: string | number | symbol, clazz: Newable<any>, args: any[]): boolean;\n}\n\n","import { isResolveMode } from '../utils';\nimport { ContainerProvider } from '../container';\nimport { AfterReturningAdvice, AfterThrowsAdvice, AopProxy, AopProxyFactory, AOP_TAG, MethodBeforeAdvice, ProxyConfig } from './aop-protocol';\nimport { Component } from '../annotation';\nimport { interfaces } from 'inversify';\n\n@Component({ id: AopProxyFactory, proxy: false })\nexport class AopProxyFactoryImpl implements AopProxyFactory {\n\n    protected getAdvices<T>(id: interfaces.ServiceIdentifier<T>, tagValues: string[]) {\n        const container = ContainerProvider.provide();\n        const advices: T[] = [];\n        for (const tagValue of tagValues) {\n            if (container.isBoundTagged(id, AOP_TAG, tagValue)) {\n                advices.push(...container.getAllTagged<T>(id, AOP_TAG, tagValue));\n            }\n        }\n        return advices;\n    }\n\n    create(config: ProxyConfig): AopProxy {\n        const { metadata: { sysTags } } = config;\n        const proxy = new Proxy(config.target, {\n            get: (target, method, receiver) => {\n                if (isResolveMode()) {\n                    return target;\n                }\n                const func = target[method];\n                if (typeof func === 'function') {\n                    return async (...args: any[]) => {\n                        try {\n                            const beforeAdvices = this.getAdvices<MethodBeforeAdvice>(MethodBeforeAdvice, sysTags!);\n                            for (const advice of beforeAdvices) {\n                                await advice.before(method, args, target);\n                            }\n                            const returnValue = await func.apply(target, args);\n                            const afterReturningAdvices = this.getAdvices<AfterReturningAdvice>(AfterReturningAdvice, sysTags!);\n                            for (const advice of afterReturningAdvices) {\n                                await advice.afterReturning(returnValue, method, args, target);\n                            }\n                            return returnValue;\n                        } catch (error) {\n                            const afterThrowsAdvices = this.getAdvices<AfterThrowsAdvice>(AfterThrowsAdvice, sysTags!);\n                            for (const advice of afterThrowsAdvices) {\n                                await advice.afterThrows(error, method, args, target);\n                            }\n                            throw error;\n                        }\n                    };\n                }\n                return func;\n            }\n        });\n        return {\n            getPorxy() {\n                return proxy;\n            }\n        };\n    }\n\n}\n","import { Newable } from '../utils';\nimport { ContainerProvider } from '../container';\nimport { AfterReturningAdvice, AfterThrowsAdvice, AOP_TAG, ClassFilter, MethodBeforeAdvice } from './aop-protocol';\nimport { Component, ComponentMetadata } from '../annotation';\n\n@Component({ id: ClassFilter, proxy: false })\nexport class ClassFilterImpl implements ClassFilter {\n\n    matches(clazz: Newable<any>, metadata: ComponentMetadata): boolean {\n        const container = ContainerProvider.provide();\n        const tagKeys = metadata.sysTags;\n        for (const tagValue of tagKeys) {\n            if (container.isBoundTagged(MethodBeforeAdvice, AOP_TAG, tagValue)\n            || container.isBoundTagged(AfterThrowsAdvice, AOP_TAG, tagValue)\n            || container.isBoundTagged(AfterReturningAdvice, AOP_TAG, tagValue)) {\n                return true;\n            }\n        }\n        return false;\n    }\n\n}\n","export * from './aop-protocol';\nexport * from './class-filter';\nexport * from './aop-proxy-factory';\n","export interface ApplicationError<C extends number, D> extends Error {\n    readonly code: C\n    readonly data: D\n    toJson(): ApplicationError.Literal<D>\n}\nexport namespace ApplicationError {\n    export interface Literal<D> {\n        message: string\n        data: D\n        stack?: string\n    }\n    export interface Constructor<C extends number, D> {\n        (...args: any[]): ApplicationError<C, D>;\n        code: C;\n        is(arg: object | undefined): arg is ApplicationError<C, D>\n    }\n    const codes: number[] = [];\n    export function declare<C extends number, D>(code: C, factory: (...args: any[]) => Literal<D>): Constructor<C, D> {\n        if (codes.indexOf(code) !== -1) {\n            throw new Error(`An application error for '${code}' code is already declared`);\n        }\n        const constructorOpt = Object.assign((...args: any[]) => new Impl(code, factory(...args), constructorOpt), {\n            code,\n            is(arg: object | undefined): arg is ApplicationError<C, D> {\n                return arg instanceof Impl && arg.code === code;\n            }\n        });\n        return constructorOpt;\n    }\n    export function is<C extends number, D>(arg: object | undefined): arg is ApplicationError<C, D> {\n        return arg instanceof Impl;\n    }\n    export function fromJson<C extends number, D>(code: C, raw: Literal<D>): ApplicationError<C, D> {\n        return new Impl(code, raw);\n    }\n    class Impl<C extends number, D> extends Error implements ApplicationError<C, D>  {\n        readonly data: D;\n        constructor(\n            readonly code: C,\n            raw: ApplicationError.Literal<D>,\n            constructorOpt?: Function\n        ) {\n            super(raw.message);\n            this.data = raw.data;\n            Object.setPrototypeOf(this, Impl.prototype);\n            if (raw.stack) {\n                this.stack = raw.stack;\n            } else if (Error.captureStackTrace && constructorOpt) {\n                Error.captureStackTrace(this, constructorOpt);\n            }\n        }\n        toJson(): ApplicationError.Literal<D> {\n            const { message, data, stack } = this;\n            return { message, data, stack };\n        }\n    }\n}\n","import { MaybePromise } from '../utils/prioritizeable';\nimport { Deferred } from '../utils/promise-util';\nimport { injectable } from 'inversify';\nimport { Logger } from '../logger';\nimport { Autowired, Component } from '../annotation';\nimport { Emitter, Event } from 'vscode-jsonrpc';\n\nexport const ApplicationLifecycle = Symbol('ApplicationLifecycle');\nexport const Application = Symbol('Application');\nexport const ApplicationStateService = Symbol('ApplicationStateService');\n\nexport interface ApplicationLifecycle<T extends Application> {\n\n    initialize?(): void;\n\n    onStart?(app: T): MaybePromise<void>;\n\n    onStop?(app: T): void;\n\n}\n\nexport interface Application {\n\n    start(): Promise<void>;\n\n}\n\n@Component(ApplicationLifecycle)\nexport class EmptyApplicationLifecycle implements ApplicationLifecycle<Application> {\n\n    initialize(): void {\n        // NOOP\n    }\n\n}\n\n@injectable()\nexport abstract class AbstractApplication implements Application {\n\n    @Autowired(ApplicationLifecycle)\n    protected readonly lifecycles: ApplicationLifecycle<Application>[];\n\n    abstract start(): Promise<void>;\n\n    @Autowired(Logger)\n    protected readonly logger: Logger;\n\n    /**\n     * Initialize and start the frontend application.\n     */\n    protected async doStart(): Promise<void> {\n        for (const lifecycle of this.lifecycles) {\n            if (lifecycle.initialize) {\n                try {\n                    lifecycle.initialize();\n                } catch (error) {\n                    this.logger.error('Could not initialize lifecycle', error);\n                }\n            }\n        }\n\n        // TODO\n\n        for (const lifecycle of this.lifecycles) {\n            if (lifecycle.onStart) {\n                try {\n                    await lifecycle.onStart(this);\n                } catch (error) {\n                    this.logger.error('Could not start lifecycle', error);\n                }\n            }\n        }\n    }\n\n    /**\n     * Stop the frontend application lifecycle.\n     */\n    protected doStop(): void {\n        for (const lifecycle of this.lifecycles) {\n            if (lifecycle.onStop) {\n                try {\n                    lifecycle.onStop(this);\n                } catch (error) {\n                    this.logger.error('Could not stop lifecycle', error);\n                }\n            }\n        }\n    }\n\n}\n\nexport type ApplicationState =\n    'init'\n    | 'started'\n    | 'ready';\n\nexport interface ApplicationStateService<T extends string> {\n    state: T;\n    readonly onStateChanged: Event<T>\n\n    reachedState(state: T): Promise<void>;\n\n    reachedAnyState(...states: T[]): Promise<void>;\n\n}\n@injectable()\nexport abstract class AbstractApplicationStateService<T extends string> implements ApplicationStateService<T> {\n\n    private _state = <T>'init';\n\n    protected deferred: { [state: string]: Deferred<void> } = {};\n    protected readonly stateChanged = new Emitter<T>();\n\n    get state(): T {\n        return this._state;\n    }\n\n    set state(state: T) {\n        if (state !== this._state) {\n            this.deferred[this._state] = new Deferred();\n            this._state = state;\n            if (this.deferred[state] === undefined) {\n                this.deferred[state] = new Deferred();\n            }\n            this.deferred[state].resolve();\n            this.stateChanged.fire(state);\n        }\n    }\n\n    get onStateChanged(): Event<T> {\n        return this.stateChanged.event;\n    }\n\n    reachedState(state: T): Promise<void> {\n        if (this.deferred[state] === undefined) {\n            this.deferred[state] = new Deferred();\n        }\n        return this.deferred[state].promise;\n    }\n\n    reachedAnyState(...states: T[]): Promise<void> {\n        return Promise.race(states.map(s => this.reachedState(s)));\n    }\n\n}\n","export * from './application-protocol';\nexport * from './application-error';\n","export const ConfigProvider = Symbol('ConfigProvider');\n\nexport interface ConfigProvider {\n    get<T>(key: string, defaultValue?: T): T;\n}\n","import { ConfigProvider } from './config-protocol';\nimport { Component, Autowired } from '../annotation';\nimport { ExpressionHandler } from '../el';\n\n@Component(ConfigProvider)\nexport class ConfigProviderImpl implements ConfigProvider {\n\n    @Autowired(ExpressionHandler)\n    protected readonly expressionHandler: ExpressionHandler;\n\n    get<T>(key: string, defaultValue?: T): T {\n        return this.expressionHandler.handle(`\\${${key}}`) || defaultValue;\n    }\n\n}\n","import { ConfigProvider } from './config-protocol';\nimport { ContainerUtil } from '../container';\nimport * as traverse from 'traverse';\n\nconst config: { [key: string]: any } = process.env.MALAGU_CONFIG as any || {};\n\nconst traverseConfig = traverse(config);\n\nexport namespace ConfigUtil {\n    export function get<T>(key: string, defaultValue?: T): T {\n        return ContainerUtil.get<ConfigProvider>(ConfigProvider).get(key, defaultValue);\n    }\n\n    export function getRaw() {\n        return config;\n    }\n\n    export function getRawTraverse() {\n        return traverseConfig;\n    }\n}\n","export * from './config-protocol';\nexport * from './config-provider';\nexport * from './config-util';\n","export const METADATA_KEY = {\n    constantValue: 'malagu:constant-value',\n    component: 'malagu:component'\n};\n","import { interfaces, ContainerModule } from 'inversify';\nimport { METADATA_KEY } from '../constants';\nimport { ConstantOption } from '../annotation/constant';\nimport { ComponentMetadata, Scope } from '../annotation';\nimport { ConfigUtil } from '../config/config-util';\nimport { AopProxyFactory, ClassFilter } from '../aop/aop-protocol';\nimport { ContainerUtil } from './container-util';\n\nexport function autoBind(registry?: interfaces.ContainerModuleCallBack): interfaces.ContainerModule {\n    return new ContainerModule((bind, unbind, isBound, rebind) => {\n        const metadatas: ComponentMetadata[] = Reflect.getMetadata(METADATA_KEY.component, Reflect) || [];\n        for (let index = metadatas.length - 1; index >= 0; index--) {\n            const metadata = metadatas[index];\n            resolve(metadata, bind, rebind);\n        }\n        Reflect.defineMetadata(METADATA_KEY.component, [], Reflect);\n        const constantMetadata: ConstantOption[] = Reflect.getMetadata(METADATA_KEY.constantValue, Reflect) || [];\n        constantMetadata.map(metadata => resolveConstant(metadata, bind, rebind));\n        Reflect.defineMetadata(METADATA_KEY.constantValue, [], Reflect);\n\n        if (registry) {\n            registry(bind, unbind, isBound, rebind);\n        }\n    });\n}\n\nfunction doProxyIfNeed(metadata: ComponentMetadata, target: any) {\n    const enabled = ConfigUtil.getRaw().malagu?.aop?.enabled;\n    if (enabled) {\n        const classFilter = ContainerUtil.get<ClassFilter>(ClassFilter);\n        if (target.constructor && classFilter.matches(target.constructor, metadata)) {\n            const aopProxyFactory = ContainerUtil.get<AopProxyFactory>(AopProxyFactory);\n            return aopProxyFactory.create({\n                target,\n                metadata\n            }).getPorxy();\n        }\n    }\n\n    return target;\n}\n\nfunction resolve(metadata: ComponentMetadata, bind: interfaces.Bind, rebind: interfaces.Rebind): void {\n    let mid: any;\n    const { ids, scope, name, tag, when, proxy, onActivation, target } = metadata;\n    const id = ids.shift()!;\n    mid = metadata.rebind ? rebind(id).to(target) : bind(id).to(target);\n\n    if (scope === Scope.Singleton) {\n        mid = mid.inSingletonScope();\n    } else if (scope === Scope.Transient) {\n        mid = mid.inTransientScope();\n    }\n\n    if (name) {\n        mid = mid.whenTargetNamed(name);\n    } else if (tag) {\n        mid = mid.whenTargetTagged(tag.tag, tag.value);\n    } else if (metadata.default) {\n        mid = mid.whenTargetIsDefault();\n    } else if (when) {\n        mid = mid.when(when);\n    }\n\n    if (onActivation) {\n        mid.onActivation(onActivation);\n    } else if (proxy) {\n        mid.onActivation((context: interfaces.Context, t: any) => doProxyIfNeed(metadata, t));\n    }\n\n    for (const item of ids) {\n        bind(item).toService(id);\n    }\n}\n\nfunction resolveConstant(metadata: ConstantOption, bind: interfaces.Bind, rebind: interfaces.Rebind): void {\n    const ids = Array.isArray(metadata.id) ? metadata.id : [ metadata.id ];\n    const id = ids.shift();\n    if (metadata.rebind) {\n        rebind(id!).toConstantValue(metadata.constantValue);\n    } else {\n        bind(id!).toConstantValue(metadata.constantValue);\n    }\n\n    for (const item of ids) {\n        bind(item!).toService(id!);\n    }\n}\n","import { Container } from 'inversify';\n\nlet _container: Container;\n\nexport namespace ContainerProvider {\n    export function set(container: Container): void {\n        _container = container;\n    }\n    export function provide(): Container {\n        if (!_container) {\n            throw new Error('Container is not ready yet, the timing is incorrect.');\n        }\n        return _container;\n    }\n}\n","import { interfaces } from 'inversify';\nimport { ContainerProvider } from './container-provider';\n\nexport namespace ContainerUtil {\n    export function get<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>): T {\n        return ContainerProvider.provide().get(serviceIdentifier);\n    }\n\n    export function getAll<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>): T[] {\n        return ContainerProvider.provide().getAll(serviceIdentifier);\n    }\n\n    export function getAllNamed<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, named: string | number | symbol): T[] {\n        return ContainerProvider.provide().getAllNamed(serviceIdentifier, named);\n    }\n\n    export function getNamed<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, named: string | number | symbol): T {\n        return ContainerProvider.provide().getNamed(serviceIdentifier, named);\n    }\n\n    export function getAllTagged<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, key: string | number | symbol, value: any): T[] {\n        return ContainerProvider.provide().getAllTagged(serviceIdentifier, key, value);\n    }\n\n    export function getTagged<T>(serviceIdentifier: interfaces.ServiceIdentifier<T>, key: string | number | symbol, value: any): T {\n        return ContainerProvider.provide().getTagged(serviceIdentifier, key, value);\n    }\n}\n","import { Container } from 'inversify';\n\n// dynamic loading component module at compile time\nexport const container: Promise<Container> = Promise.resolve(new Container());\n","export * from './container-provider';\nexport * from './auto-bind';\nexport * from './container-util';\n","import { Component, Autowired } from '../annotation';\nimport { ContextInitializer, ExpressionContext, JexlEngineProvider } from './expression-protocol';\n\n@Component(ContextInitializer)\nexport class CoreContextInitializer implements ContextInitializer {\n\n    @Autowired(JexlEngineProvider)\n    protected readonly jexlEngineProvider: JexlEngineProvider<any>;\n\n    initialize(ctx: ExpressionContext): void {\n        ctx.env = { ...process.env, _ignoreEl: true };\n        const jexlEngine = this.jexlEngineProvider.provide();\n        jexlEngine.addTransform('replace',\n                (val: string, searchValue: string | RegExp, replaceValue: string) => val && val.replace(new RegExp(searchValue, 'g'), replaceValue));\n        jexlEngine.addTransform('regexp',  (pattern: string, flags?: string) => new RegExp(pattern, flags));\n    }\n\n    priority = 500;\n\n}\n","import { ExpressionCompiler, JexlEngineProvider } from './expression-protocol';\nimport { Component, Autowired } from '../annotation';\n\ninterface MiddleExpression {\n    expression: any;\n    nextText?: string;\n}\n\n@Component(ExpressionCompiler)\nexport class ExpressionCompilerImpl implements ExpressionCompiler {\n\n    private ESCAPE_CHAR = '\\\\';\n    private SPECIAL_CHAR = '$';\n    private BRACKET_BEGIN = '{';\n    private BRACKET_END = '}';\n\n    @Autowired(JexlEngineProvider)\n    protected readonly jexlEngineProvider: JexlEngineProvider<any>;\n\n    compileSections(text: string): any[] {\n        if (!text || text.indexOf(this.SPECIAL_CHAR) < 0) {\n            return [];\n        }\n\n        const sections: any[] = [];\n        let middleText: string | undefined = text;\n        while (middleText) {\n            const me: MiddleExpression | undefined = this.middleCompile(middleText);\n            if (!me) {\n                sections.push(middleText);\n                middleText = undefined;\n            } else {\n                sections.push(me.expression);\n                middleText = me.nextText;\n            }\n        }\n\n        return sections;\n    }\n\n    protected middleCompile(text: string): MiddleExpression | undefined {\n        let me: MiddleExpression | undefined;\n        if (text.startsWith('${{')) {\n            me = this.nextMiddleExpression(text.substring(3), 2);\n        } else if (text.startsWith('${')) {\n            me = this.nextMiddleExpression(text.substring(2));\n        } else {\n            me = this.nextString(text);\n        }\n        return me;\n    }\n\n    protected nextMiddleExpression(text: string, bracketBeginCharNum = 1): MiddleExpression | undefined {\n        let stringed = false;\n        let escaped = false;\n        let bracketBeginCharFound = 0;\n\n        const section: string[] = [];\n        for (let i = 0; i < text.length; i++) {\n            const c = text[i];\n            if (!escaped) {\n                if ('\\'' === c || '\\\"' === c) {\n                    stringed = !stringed;\n                    section.push(c);\n                    continue;\n                } else\n                    if (c === this.ESCAPE_CHAR) {\n                        escaped = true;\n                        continue;\n                    }\n            }\n\n            if (stringed) {\n                section.push(c);\n                escaped = false;\n            } else if (escaped) {\n                if (this.SPECIAL_CHAR === c || this.BRACKET_BEGIN === c || this.BRACKET_END === c) {\n                    section.push(c);\n                } else {\n                    section.push(this.ESCAPE_CHAR);\n                    section.push(c);\n                }\n                escaped = false;\n            } else if (this.BRACKET_BEGIN === c) {\n                bracketBeginCharFound++;\n                section.push(c);\n            } else if (this.BRACKET_END === c) {\n                if (bracketBeginCharFound === 0 && bracketBeginCharNum === 1) {\n                    const jexlEngine = this.jexlEngineProvider.provide();\n                    const expression = jexlEngine.createExpression(section.join(''));\n                    let nextText;\n                    if (i !== text.length - 1) {\n                        nextText = text.substring(i + 1);\n                    }\n                    return { expression, nextText };\n                } else if (bracketBeginCharFound > 0) {\n                    bracketBeginCharFound--;\n                    section.push(c);\n                } else {\n                    bracketBeginCharNum--;\n                }\n            } else {\n                section.push(c);\n            }\n        }\n    }\n\n    protected nextString(text: string): MiddleExpression {\n        let escaped = false;\n        let specialCharFound = false;\n\n        const section: string[] = [];\n        for (let i = 0; i < text.length; i++) {\n            const c = text[i];\n            if (!escaped) {\n                if ('\\'' === c || '\\\"' === c) {\n                    section.push(c);\n                    continue;\n                } else\n                    if (c === this.ESCAPE_CHAR) {\n                        escaped = true;\n                        continue;\n                    }\n            }\n\n            if (escaped) {\n                if (this.SPECIAL_CHAR === c || this.BRACKET_BEGIN === c || this.BRACKET_END === c) {\n                    section.push(c);\n                } else {\n                    section.push(this.ESCAPE_CHAR);\n                    section.push(c);\n                }\n                escaped = false;\n            } else\n                if (specialCharFound) {\n                    if (this.BRACKET_BEGIN === c) {\n                        const expression = section.join('');\n                        const nextText = text.substring(i - 1);\n                        return { expression, nextText };\n                    } else {\n                        specialCharFound = false;\n                        section.push(this.SPECIAL_CHAR);\n                        section.push(c);\n                    }\n                } else {\n                    if (this.SPECIAL_CHAR === c) {\n                        specialCharFound = true;\n                    } else {\n                        section.push(c);\n                    }\n                }\n        }\n\n        return { expression: section.join('') };\n    }\n\n}\n","import { Component, Autowired, Optional } from '../annotation';\nimport { ExpressionContextProvider, ContextInitializer, ExpressionContext } from './expression-protocol';\nimport { Prioritizeable } from '../utils';\nimport { ConfigUtil } from '../config';\n\n@Component(ExpressionContextProvider)\nexport class ExpressionContextProviderImpl implements ExpressionContextProvider {\n\n    protected prioritized: ContextInitializer[];\n    protected ctx: ExpressionContext;\n    protected initialized = false;\n\n    constructor(\n        @Autowired(ContextInitializer) @Optional()\n        protected readonly contextInitializers: ContextInitializer[]\n\n    ) {\n        this.ctx = ConfigUtil.getRaw();\n    }\n\n    provide(): ExpressionContext {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.contextInitializers).map(c => c.value);\n        }\n        if (!this.initialized) {\n            this.initialized = true;\n            for (const initializer of this.prioritized) {\n                initializer.initialize(this.ctx);\n            }\n        }\n        return this.ctx;\n    }\n\n}\n","import { Component, Autowired } from '../annotation';\nimport { JexlEngineProvider, ExpressionHandler, ExpressionContextProvider, ExpressionCompiler, ExpressionContext } from './expression-protocol';\nimport * as traverse from 'traverse';\nimport { postConstruct } from 'inversify';\n\n@Component(ExpressionHandler)\nexport class ExpressionHandlerImpl implements ExpressionHandler {\n\n    @Autowired(JexlEngineProvider)\n    protected readonly jexlEngineProvider: JexlEngineProvider<any>;\n\n    @Autowired(ExpressionContextProvider)\n    protected readonly expressionContextProvider: ExpressionContextProvider;\n\n    @Autowired(ExpressionCompiler)\n    protected readonly expressionCompiler: ExpressionCompiler;\n\n    protected _ctx: ExpressionContext;\n\n    @postConstruct()\n    protected init() {\n\n    }\n\n    protected getContext(ctx?: ExpressionContext) {\n        const c = ctx || this.expressionContextProvider.provide();\n\n        if (!ctx && c !== this._ctx) {\n            this._ctx = c;\n            this.handle(c, c);\n        }\n        return c;\n    }\n\n    handle(textOrObj: string | Object, ctx?: ExpressionContext): any {\n        if (typeof textOrObj === 'string') {\n            return this.doHandle(textOrObj, ctx);\n        } else {\n            const self = this;\n            traverse(textOrObj).forEach(function (value: any) {\n                if (typeof value === 'string') {\n                    if (typeof value === 'string') {\n                        this.update(self.handle(value, ctx));\n                    } else if (value && (value as any)._ignoreEl === true) {\n                        this.update(value, true);\n                    }\n                }\n            });\n            return textOrObj;\n        }\n    }\n\n    protected doHandle(text: string, ctx?: ExpressionContext): any {\n        const sections = this.expressionCompiler.compileSections(text);\n        if (sections.length > 0) {\n            if (this.hasExpression(sections)) {\n                const c = this.getContext(ctx);\n                if (sections.length === 1) {\n                    let value = sections[0].evalSync(c);\n                    if (typeof value === 'string') {\n                        value = this.handle(value, c);\n                    }\n                    return value;\n                }\n                const result: string[] = [];\n                for (const section of sections) {\n                    if (typeof section === 'string') {\n                        result.push(section);\n                    } else {\n                        let value = section.evalSync(c);\n                        if (typeof value === 'string') {\n                            value = this.handle(value, c);\n                        }\n                        result.push(value);\n                    }\n                }\n                return result.join('');\n            }\n        }\n        return text;\n    }\n\n    protected hasExpression(sections: any[]) {\n        for (const section of sections) {\n            if (typeof section !== 'string') {\n                return true;\n            }\n        }\n        return false;\n    }\n\n}\n","export const ExpressionCompiler = Symbol('ExpressionCompiler');\nexport const ExpressionHandler = Symbol('ExpressionHandler');\nexport const ContextInitializer = Symbol('ContextInitializer');\nexport const ExpressionContextProvider = Symbol('ExpressionContextProvider');\nexport const JexlEngineProvider = Symbol('JexlEngineProvider');\n\nexport interface ExpressionCompiler {\n    compileSections(text: string): any[]\n}\n\nexport interface ExpressionHandler {\n\n    handle(text: string | Object): any;\n\n}\n\nexport interface ExpressionContext {\n    [key: string]: any;\n}\n\nexport interface ContextInitializer {\n\n    initialize(ctx: ExpressionContext): void;\n    readonly priority: number;\n}\n\nexport interface ExpressionContextProvider {\n\n    provide(): ExpressionContext;\n}\n\nexport interface JexlEngineProvider<T> {\n\n    provide(): T\n}\n\n","export * from './expression-protocol';\nexport * from './expression-compiler';\nexport * from './expression-context-provider';\nexport * from './expression-handler';\nexport * from './jexl-engine-provider';\nexport * from './core-context-initializer';\n","import { Component } from '../annotation';\nimport { JexlEngineProvider } from './expression-protocol';\nimport { Jexl } from 'jexl';\n\n@Component(JexlEngineProvider)\nexport class JexlEngineProviderImpl implements JexlEngineProvider<any> {\n\n    protected jexlEngine: any;\n\n    provide(): any {\n\n        if (!this.jexlEngine) {\n            this.jexlEngine = new Jexl();\n        }\n        return this.jexlEngine;\n    }\n\n}\n","import { CustomError as BaseCustomError } from 'ts-custom-error';\n\nexport class CustomError extends BaseCustomError {\n\n}\n","import { CustomError } from './cutom-error';\n\nexport class IllegalArgumentError extends CustomError {\n\n}\n","export * from './error-protocol';\nexport * from './cutom-error';\nexport * from './validation-errors';\nexport * from './illegal-argument-error';\n","import { CustomError } from './cutom-error';\nimport { ValidationError } from 'class-validator';\n\nexport class ValidationErrors extends CustomError {\n\n    constructor(errors?: ValidationError[]) {\n        super(errors === undefined ? undefined : JSON.stringify(errors));\n    }\n\n}\n","export * from './utils';\nexport * from './annotation';\nexport * from './application';\nexport * from './logger';\nexport * from './container';\nexport * from './aop';\nexport * from './constants';\nexport * from './config';\nexport * from './error';\nexport * from './pipe';\nexport * from './el';\n","export * from './logger-protocol';\nexport * from './logger';\n","export const LOGGER_CONFIG = 'malagu.logger';\nexport const Logger = Symbol('Logger');\n\nexport type LogLevel = 'verbose' | 'debug' | 'info' | 'warn' | 'error';\n\nexport interface Logger {\n    info(message: any, context?: string): void;\n    error(message: any, context?: string): void;\n    warn(message: any, context?: string): void;\n    debug(message: any, context?: string): void;\n}\n","import { Logger as ILoger } from 'vscode-jsonrpc';\nimport * as log from 'loglevel';\nimport { Component, Value } from '../annotation';\nimport { Logger, LOGGER_CONFIG } from './logger-protocol';\n\nexport class ConsoleLogger implements ILoger {\n    public error(message: string): void {\n        console.error(message);\n    }\n\n    public warn(message: string): void {\n        console.warn(message);\n    }\n\n    public info(message: string): void {\n        console.info(message);\n    }\n\n    public log(message: string): void {\n        console.log(message);\n    }\n\n    public debug(message: string): void {\n        console.debug(message);\n    }\n}\n\n@Component(Logger)\nexport class LoggerImpl implements Logger {\n    protected instance: Logger;\n\n    constructor(\n        @Value(LOGGER_CONFIG) protected readonly config: any\n    ) {\n        if (config.level) {\n            log.setLevel(config.level);\n        } else {\n            log.setLevel('error');\n        }\n    }\n\n    error(message: any, context = ''): void {\n        log.error(message, context);\n    }\n\n    info(message: any, context = ''): void {\n        log.info(message, context);\n    }\n\n    warn(message: any, context = ''): void {\n        log.warn(message, context);\n    }\n\n    debug(message: any, context = ''): void {\n        log.debug(message, context);\n    }\n\n}\n","export * from './pipe-manager';\nexport * from './pipe-protocol';\nexport * from './pipe-provider';\nexport * from './pipe-transtorm';\n","import { Component, Autowired } from '../annotation';\nimport { PipeManager, PipeProvider, MethodMetadata } from './pipe-protocol';\nimport { getTarget } from '../utils';\n\n@Component(PipeManager)\nexport class PipeManagerImpl implements PipeManager {\n\n    @Autowired(PipeProvider)\n    protected readonly pipeProvider: PipeProvider;\n\n    async apply(metadata: MethodMetadata, args: any[]): Promise<void> {\n        const paramTypes = Reflect.getMetadata('design:paramtypes', getTarget(metadata.target), metadata.method);\n        if (paramTypes) {\n            for (let index = 0; index < args.length; index++) {\n                let arg = args[index];\n                for (const pipe of this.pipeProvider.provide()) {\n                    arg = await pipe.transform(arg, { argType: index < paramTypes.length ? paramTypes[index] : undefined });\n                }\n                args[index] = arg;\n            }\n        }\n    }\n\n}\n","import { Type } from '../utils';\n\nexport const PipeTransform = Symbol('PipeTransform');\nexport const PipeProvider = Symbol('PipeProvider');\nexport const PipeManager = Symbol('PipeManager');\n\nexport interface ArgumentMetadata {\n\n    readonly argType?: Type<any>;\n\n    readonly data?: string;\n}\n\nexport interface MethodMetadata {\n\n    readonly target: Type<any>;\n\n    readonly method: string | symbol;\n}\n\nexport interface PipeTransform<T = any, R = any> {\n    readonly priority: number;\n    transform(value: T, metadata: ArgumentMetadata): R;\n}\n\nexport interface PipeProvider {\n    provide(): PipeTransform[];\n}\n\nexport interface PipeManager {\n    apply(metadata: MethodMetadata, args: any[]): Promise<void>;\n}\n","import { Component, Autowired } from '../annotation';\nimport { PipeTransform, PipeProvider } from './pipe-protocol';\nimport { Prioritizeable } from '../utils';\n\n@Component(PipeProvider)\nexport class PipeProviderImpl implements PipeProvider {\n\n    protected prioritized: PipeTransform[];\n\n    constructor(\n        @Autowired(PipeTransform)\n        protected readonly pipes: PipeTransform[]\n    ) { }\n\n    provide(): PipeTransform[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.pipes).map(c => c.value);\n        }\n        return this.prioritized;\n    }\n\n}\n","import { Component, Value } from '../annotation';\nimport { PipeTransform, ArgumentMetadata } from './pipe-protocol';\nimport { ValidationErrors } from '../error';\nimport { isNull } from 'util';\nimport { validate } from 'class-validator';\nimport { classToPlain, plainToClass } from 'class-transformer';\n\n@Component(PipeTransform)\nexport class ValidationPipe implements PipeTransform<any> {\n\n    @Value('malagu.core.validationPipeOptions')\n    protected options: any;\n\n    readonly priority = 1000;\n\n    public async transform(value: any, metadata: ArgumentMetadata): Promise<any> {\n        const opts = this.options || {};\n        const { argType } = metadata;\n        if (!argType || !this.toValidate(metadata)) {\n            return value;\n        }\n        const originalValue = value;\n        value = this.toEmptyIfNil(value);\n\n        const isNil = value !== originalValue;\n        const isPrimitive = this.isPrimitive(value);\n        this.stripProtoKeys(value);\n        let entity = plainToClass(\n            argType,\n            value,\n            opts.transformOptions,\n        );\n\n        const originalEntity = entity;\n        const isCtorNotEqual = entity.constructor !== argType;\n\n        if (isCtorNotEqual && !isPrimitive) {\n            entity.constructor = argType;\n        } else if (isCtorNotEqual) {\n            // when \"entity\" is a primitive value, we have to temporarily\n            // replace the entity to perform the validation against the original\n            // metatype defined inside the handler\n            entity = { constructor: argType } as any;\n        }\n\n        const errors = await validate(entity, opts.validatorOptions);\n        if (errors.length > 0) {\n            throw new ValidationErrors(opts.detailedOutputDisabled ? undefined : errors);\n        }\n        if (isPrimitive) {\n            // if the value is a primitive value and the validation process has been successfully completed\n            // we have to revert the original value passed through the pipe\n            entity = originalEntity;\n        }\n        if (opts.transformEnabled) {\n            return entity;\n        }\n        if (isNil) {\n            // if the value was originally undefined or null, revert it back\n            return originalValue;\n        }\n        return Object.keys(opts.validatorOptions).length > 0\n            ? classToPlain(entity, opts.transformOptions)\n            : value;\n    }\n\n    private toValidate(metadata: ArgumentMetadata): boolean {\n        const { argType } = metadata;\n        const types = [String, Boolean, Number, Array, Object];\n        return !types.some(t => argType === t) && !isNull(argType);\n    }\n\n    private toEmptyIfNil<T = any, R = any>(value: T): R | {} {\n        return isNull(value) ? {} : value;\n    }\n\n    private stripProtoKeys(value: Record<string, any>): void {\n        delete value.__proto__;\n        const keys = Object.keys(value);\n        keys\n            .filter(key => typeof value[key] === 'object' && value[key])\n            .forEach(key => this.stripProtoKeys(value[key]));\n    }\n\n    private isPrimitive(value: unknown): boolean {\n        return ['number', 'boolean', 'string'].indexOf(typeof value) !== -1;\n    }\n}\n","export namespace AnnotationUtil {\n\n    export function getValueOrOption<T>(valueOrOption?: any, primaryProperty = 'id'): T {\n        let opiton = {};\n        if (typeof valueOrOption === 'object' && !Array.isArray(valueOrOption)) {\n            opiton = valueOrOption;\n        } else if (valueOrOption) {\n            opiton = { [primaryProperty]: valueOrOption };\n        }\n        return opiton as T;\n    }\n\n    export function getType(target: any, targetKey: string | symbol, index?: number) {\n        if (index !== undefined)  {\n            return Reflect.getMetadata('design:paramtypes', target, targetKey)[index];\n        } else {\n            return Reflect.getMetadata('design:type', target, targetKey);\n        }\n    }\n\n}\n","export function getSuperClasses(constructor: any): any[] {\n    const constructors = [];\n    let current = constructor;\n    while (Object.getPrototypeOf(current)) {\n        current = Object.getPrototypeOf(current);\n        constructors.push(current);\n    }\n    return constructors;\n}\n\nexport function getPropertyNames(obj: any) {\n    const propertyNames: string[] = [];\n    do {\n        propertyNames.push(...Object.getOwnPropertyNames(obj));\n        obj = Object.getPrototypeOf(obj);\n    } while (obj);\n    // get unique property names\n\n    return new Set<string>(propertyNames);\n}\n","import { Disposable } from 'vscode-jsonrpc/lib/events';\n\nexport {\n    Disposable\n};\n\nexport class DisposableCollection implements Disposable {\n    protected readonly disposables: Disposable[] = [];\n\n    constructor(...toDispose: Disposable[]) {\n        toDispose.forEach(d => this.push(d));\n    }\n\n    dispose(): void {\n        while (this.disposables.length !== 0) {\n            this.disposables.pop()!.dispose();\n        }\n    }\n\n    get disposed(): boolean {\n        return this.disposables.length === 0;\n    }\n\n    push(disposable: Disposable): Disposable {\n        const disposables = this.disposables;\n        disposables.push(disposable);\n        return {\n            dispose(): void {\n                const index = disposables.indexOf(disposable);\n                if (index !== -1) {\n                    disposables.splice(index, 1);\n                }\n            }\n        };\n    }\n\n}\n","export * from './prioritizeable';\nexport * from './promise-util';\nexport * from './types';\nexport * from './class-util';\nexport * from './metadata-util';\nexport * from './disposable';\nexport * from './os';\nexport * from './proxy-util';\nexport * from './annotation-util';\n","import { getSuperClasses } from './class-util';\n\nexport function getOwnMetadata(metadataKey: string, constructor: Object, propertyKey?: string | symbol): any {\n    const constructors = [ constructor, ...getSuperClasses(constructor) ];\n    let result: any[] = [];\n    for (let index = 0; index < constructors.length; index++) {\n        const c = constructors[constructors.length - index - 1];\n        let metadata: any[];\n        if (propertyKey) {\n            metadata = Reflect.getOwnMetadata(metadataKey, c, propertyKey);\n        } else {\n            metadata = Reflect.getOwnMetadata(metadataKey, c);\n        }\n\n        if (metadata) {\n            if (Array.isArray(metadata)) {\n                result = [ ...result, ...metadata ];\n            } else {\n                return metadata;\n            }\n        }\n    }\n    return result;\n}\n","function is(userAgent: string, platform: string): boolean {\n    if (typeof navigator !== 'undefined') {\n        if (navigator.userAgent && navigator.userAgent.indexOf(userAgent) >= 0) {\n            return true;\n        }\n    }\n    if (typeof process !== 'undefined') {\n        return (process.platform === platform);\n    }\n    return false;\n}\n\nexport const isWindows = is('Windows', 'win32');\nexport const isOSX = is('Mac', 'darwin');\n\nexport type CMD = [string, string[]];\nexport function cmd(command: string, ...args: string[]): CMD {\n    return [\n        isWindows ? 'cmd' : command,\n        isWindows ? ['/c', command, ...args] : args\n    ];\n}\n\nexport namespace OS {\n\n    /**\n     * Enumeration of the supported operating systems.\n     */\n    export enum Type {\n        Windows = 'Windows',\n        Linux = 'Linux',\n        OSX = 'OSX'\n    }\n\n    /**\n     * Returns with the type of the operating system. If it is neither [Windows](isWindows) nor [OS X](isOSX), then\n     * it always return with the `Linux` OS type.\n     */\n    export function type(): OS.Type {\n        if (isWindows) {\n            return Type.Windows;\n        }\n        if (isOSX) {\n            return Type.OSX;\n        }\n        return Type.Linux;\n    }\n\n}\n","export type MaybeArray<T> = T | T[];\nexport type MaybePromise<T> = T | Promise<T> | PromiseLike<T>;\n\nexport interface Prioritizeable<T> {\n    readonly priority: number;\n    readonly value: T;\n}\n\nexport namespace Prioritizeable {\n    export type GetPriority<T> = (value: T) => MaybePromise<number>;\n    export type GetPrioritySync<T> = (value: T) => number;\n    export async function toPrioritizeable<T>(rawValue: MaybePromise<T>, getPriority: GetPriority<T>): Promise<Prioritizeable<T>>;\n    export async function toPrioritizeable<T>(rawValue: MaybePromise<T>[], getPriority: GetPriority<T>): Promise<Prioritizeable<T>[]>;\n    export async function toPrioritizeable<T>(rawValue: MaybeArray<MaybePromise<T>>, getPriority: GetPriority<T>): Promise<MaybeArray<Prioritizeable<T>>> {\n        if (rawValue instanceof Array) {\n            return Promise.all(\n                rawValue.map(v => toPrioritizeable(v, getPriority))\n            );\n        }\n        const value = await rawValue;\n        const priority = await getPriority(value);\n        return { priority, value };\n    }\n    export function toPrioritizeableSync<T>(rawValue: T[], getPriority: GetPrioritySync<T> = value => (<any>value).priority): Prioritizeable<T>[] {\n        return rawValue.map(v => ({\n            value: v,\n            priority: getPriority(v)\n        }));\n    }\n    export function prioritizeAllSync<T>(values: T[], getPriority?: GetPrioritySync<T>): Prioritizeable<T>[] {\n        const prioritizeable = toPrioritizeableSync(values, getPriority);\n        return prioritizeable.filter(isValid).sort(compare);\n    }\n    export async function prioritizeAll<T>(values: MaybePromise<T>[], getPriority: GetPriority<T>): Promise<Prioritizeable<T>[]> {\n        const prioritizeable = await toPrioritizeable(values, getPriority);\n        return prioritizeable.filter(isValid).sort(compare);\n    }\n    export function isValid<T>(p: Prioritizeable<T>): boolean {\n        return p.priority > 0;\n    }\n    export function compare<T>(p: Prioritizeable<T>, p2: Prioritizeable<T>): number {\n        return p2.priority - p.priority;\n    }\n}\n","export class Deferred<T> {\n    resolve: (value?: T) => void;\n    reject: (err?: any) => void; // tslint:disable-line\n\n    promise = new Promise<T>((resolve, reject) => {\n        this.resolve = resolve;\n        this.reject = reject;\n    });\n}\n","let resolveMode = false;\n\nexport function isResolveMode(): boolean {\n    return resolveMode;\n}\n\nexport function getTargetClass(obj: any): any {\n    try {\n        resolveMode = true;\n        const target = obj.target;\n        return target ? target.constructor : obj.constructor;\n\n    } finally {\n        resolveMode = false;\n    }\n}\n\nexport function getTarget(obj: any): any {\n    try {\n        resolveMode = true;\n        const target = obj.target;\n        return target || obj;\n\n    } finally {\n        resolveMode = false;\n    }\n}\n\nexport function isProxy(obj: any): boolean {\n    try {\n        resolveMode = true;\n        return !!obj.target;\n    } finally {\n        resolveMode = false;\n    }\n}\n","import { ApplicationState, AbstractApplicationStateService, ApplicationStateService, Component } from '../../common';\n\nexport type BackendApplicationState = ApplicationState;\n\n@Component(ApplicationStateService)\nexport class BackendApplicationStateService extends AbstractApplicationStateService<BackendApplicationState> {\n\n}\n\n","import { ApplicationStateService, AbstractApplication, Application, Component, Autowired } from '../../common';\nimport { BackendApplicationStateService } from './backend-application-state';\n\n@Component(Application)\nexport class BackendApplication extends AbstractApplication {\n\n    @Autowired(ApplicationStateService)\n    protected readonly stateService: BackendApplicationStateService;\n\n    async start(): Promise<void> {\n        this.setupExitSignals();\n        await this.doStart();\n        this.stateService.state = 'started';\n        this.stateService.state = 'ready';\n    }\n\n    protected removeListeners(event: NodeJS.Signals) {\n        for (const l of process.listeners(event)) {\n            if ((l as any)._tag === BackendApplication.name) {\n                process.removeListener(event, l);\n            }\n        }\n    }\n\n    protected setupExitSignals(): void {\n        this.removeListeners('SIGINT');\n        this.removeListeners('SIGTERM');\n        const l = this.doExit.bind(this);\n        l._tag = BackendApplication.name;\n        process.once('SIGINT', l);\n        process.once('SIGTERM', l);\n    }\n\n    protected doExit(): void {\n        this.doStop();\n        process.exit(0);\n    }\n}\n","export * from './backend-application';\nexport * from './backend-application-state';\n","export * from './application';\n","export * from '../common';\nimport 'reflect-metadata';\nimport { autoBind, ConfigProvider, VALUE } from '../common';\nexport * from '.';\n\nexport const CoreBackendModule = autoBind(bind => {\n    bind(VALUE).toDynamicValue(ctx => {\n        const namedMetadata = ctx.currentRequest.target.getNamedTag();\n        const el = namedMetadata!.value.toString();\n        const configProvider = ctx.container.get<ConfigProvider>(ConfigProvider);\n        return configProvider.get(el);\n    });\n});\n","import { autoBind } from '@malagu/core';\n\nexport default autoBind();\n","export const MVC_PATH = 'malagu.mvc.path';\n","export * from './constants';\n","import { METADATA_KEY } from '../constants';\n\nexport interface BodyMetadata {\n    name?: string;\n    parameterIndex: number;\n}\n\nexport function Body(name?: string): ParameterDecorator {\n    return (t, tk, i) => {\n        applyBodyDecorator(t, tk, i, name);\n    };\n};\n\nexport function applyBodyDecorator(target: any, targetKey: string | symbol, parameterIndex: number, name?: string): void {\n    const metadatas: BodyMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerBody, target.constructor, targetKey) || [];\n    metadatas.push({ name, parameterIndex });\n    Reflect.defineMetadata(METADATA_KEY.controllerBody, metadatas, target.constructor, targetKey);\n}\n","import { METADATA_KEY } from '../constants';\nimport { ErrorType } from '@malagu/core';\n\nexport interface CatchMetadata {\n    errorTypes: ErrorType[];\n    target: any;\n    key: string | symbol;\n    descriptor: TypedPropertyDescriptor<any>;\n}\n\nexport function Catch(errorTypes: ErrorType | ErrorType[]): MethodDecorator {\n    return (t, k, d) => {\n        applyCatchDecorator(t, k, d, Array.isArray(errorTypes) ? errorTypes : [ errorTypes ]);\n    };\n};\n\nexport function applyCatchDecorator(target: any, key: string | symbol, descriptor: TypedPropertyDescriptor<any>, errorTypes: ErrorType[]): void {\n    const metadata: CatchMetadata = { errorTypes, target, key, descriptor };\n    let metadataList: CatchMetadata[] = [];\n\n    if (!Reflect.hasOwnMetadata(METADATA_KEY.controllerCatch, target.constructor)) {\n        Reflect.defineMetadata(METADATA_KEY.controllerCatch, metadataList, target.constructor);\n    } else {\n        metadataList = Reflect.getOwnMetadata(METADATA_KEY.controllerCatch, target.constructor);\n    }\n    metadataList.push(metadata);\n}\n","import { METADATA_KEY } from '../constants';\nimport { AnnotationUtil, Component, ComponentId, ComponentOption, parseComponentOption } from '@malagu/core';\nimport { AOP_POINTCUT } from '@malagu/web';\n\nexport const CONTROLLER = Symbol('Controller');\n\nexport const CONTROLLER_TAG = 'Controller';\n\nexport interface ControllerOption extends ComponentOption {\n    path?: string;\n}\n\nexport interface ControllerMetadata {\n    path: string;\n    target: any;\n}\n\nexport type PathOrControllerOption = string | ControllerOption;\n\nexport function Controller(pathOrOption?: PathOrControllerOption): ClassDecorator {\n    return function (target) {\n        const option = parseControllerOption(target, pathOrOption);\n        applyControllerDecorator(option, target);\n    };\n}\n\nexport function parseControllerOption(target: any, pathOrOption?: PathOrControllerOption) {\n    const option = AnnotationUtil.getValueOrOption<ControllerOption>(pathOrOption, 'path');\n    const parsed = <ControllerOption>parseComponentOption(target, option);\n    if (option.proxy === undefined) {\n        parsed.proxy = true;\n    }\n    parsed.sysTags!.push(AOP_POINTCUT, CONTROLLER_TAG);\n    parsed.path = parsed.path || '';\n    (parsed.id as Array<ComponentId>).push(CONTROLLER);\n    return parsed;\n}\n\nexport function applyControllerDecorator(option: ControllerOption, target: any) {\n    const metadata: ControllerMetadata = { path: option.path!, target };\n    Reflect.defineMetadata(METADATA_KEY.controller, metadata, target);\n    Component(option)(target);\n    return metadata;\n}\n","import { METADATA_KEY } from '../constants';\n\nexport interface RequestCookieMetadata {\n    name?: string;\n    parameterIndex: number;\n}\n\nexport interface ResponseCookieMetadata {\n    name: string;\n    value: string;\n}\n\nexport interface CookieDecorator {\n    (name?: string): ParameterDecorator;\n    (name: string, value: string): MethodDecorator;\n\n}\n\nexport const Cookie = <CookieDecorator>function (name?: string, value?: string): ParameterDecorator | MethodDecorator {\n    if (name && value) {\n        return (t: any, tk: string | symbol, d: PropertyDescriptor) => {\n            applyResponseCookieDecorator(t, tk, d, name, value);\n        };\n    } else {\n        return (t: any, tk: string, i: number) => {\n            applyRequestCookieDecorator(t, tk, i, name);\n        };\n    }\n};\n\nexport function applyRequestCookieDecorator(target: any, targetKey: string | symbol, parameterIndex: number, name?: string): void {\n    const metadatas: RequestCookieMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerRequestCookie, target.constructor, targetKey) || [];\n    metadatas.push({ name, parameterIndex });\n    Reflect.defineMetadata(METADATA_KEY.controllerRequestCookie, metadatas, target.constructor, targetKey);\n}\n\nexport function applyResponseCookieDecorator(target: any, targetKey: string | symbol, descriptor: PropertyDescriptor, name: string, value: string): void {\n    const metadatas: ResponseCookieMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerResponseCookie, target.constructor, targetKey) || [];\n    metadatas.push({ name, value  });\n    Reflect.defineMetadata(METADATA_KEY.controllerResponseCookie, metadatas, target.constructor, targetKey);\n}\n","import { METADATA_KEY } from '../constants';\n\nexport interface RequestHeaderMetadata {\n    name?: string;\n    parameterIndex: number;\n}\n\nexport interface ResponseHeaderMetadata {\n    name: string;\n    value: string;\n}\n\nexport interface HeaderDecorator {\n    (name?: string): ParameterDecorator;\n    (name: string, value: string): MethodDecorator;\n\n}\n\nexport const Header = <HeaderDecorator>function (name?: string, value?: string) {\n    if (name && value) {\n        return (t: any, tk: string | symbol, d: PropertyDescriptor) => {\n            applyResponseHeaderDecorator(t, tk, d, name, value);\n        };\n    } else {\n        return (t: any, tk: string | symbol, i: number) => {\n            applyRequestHeaderDecorator(t, tk, i, name);\n        };\n    }\n};\n\nexport function applyRequestHeaderDecorator(target: any, targetKey: string | symbol, parameterIndex: number, name?: string): void {\n    const metadatas: RequestHeaderMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerRequestHeader, target.constructor, targetKey) || [];\n    metadatas.push({ name, parameterIndex });\n    Reflect.defineMetadata(METADATA_KEY.controllerRequestHeader, metadatas, target.constructor, targetKey);\n}\n\nexport function applyResponseHeaderDecorator(target: any, targetKey: string | symbol, descriptor: PropertyDescriptor, name: string, value: string): void {\n    const metadatas: ResponseHeaderMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerResponseHeader, target.constructor, targetKey) || [];\n    metadatas.push({ name, value  });\n    Reflect.defineMetadata(METADATA_KEY.controllerResponseHeader, metadatas, target.constructor, targetKey);\n}\n","export * from './body';\nexport * from './controller';\nexport * from './header';\nexport * from './method';\nexport * from './param';\nexport * from './query';\nexport * from './view';\nexport * from './cookie';\nexport * from './session';\nexport * from './catch';\n","import { METADATA_KEY } from '../constants';\nimport { HttpMethod } from '@malagu/web';\n\nexport type StrOrRegex = string | RegExp;\nexport type RouteOptions = StrOrRegex | { path: StrOrRegex } | { options: Object, path: StrOrRegex } & Object;\n\nexport interface MethodMetadata {\n    options: RouteOptions;\n    target: any;\n    method: string;\n    key: string | symbol;\n    descriptor: TypedPropertyDescriptor<any>;\n}\n\nexport function Get(options?: RouteOptions): MethodDecorator {\n    return Method(HttpMethod.GET, options);\n}\n\nexport function Post(options?: RouteOptions): MethodDecorator {\n    return Method(HttpMethod.POST, options);\n}\n\nexport function Put(options?: RouteOptions): MethodDecorator {\n    return Method(HttpMethod.PUT, options);\n}\n\nexport function Patch(options?: RouteOptions): MethodDecorator {\n    return Method(HttpMethod.PATCH, options);\n}\n\nexport function Head(options?: RouteOptions): MethodDecorator {\n    return Method(HttpMethod.HEAD, options);\n}\n\nexport function Delete(options?: RouteOptions): MethodDecorator {\n    return Method(HttpMethod.DELETE, options);\n}\n\nexport function Options(options?: RouteOptions): MethodDecorator {\n    return Method(HttpMethod.OPTIONS, options);\n}\n\nexport const Method = function (method: string, options: RouteOptions = ''): MethodDecorator {\n    return function (target, key, descriptor) {\n        const metadata: MethodMetadata = { options, method, target, key, descriptor };\n        let metadataList: MethodMetadata[] = [];\n\n        if (!Reflect.hasOwnMetadata(METADATA_KEY.controllerMethod, target.constructor)) {\n            Reflect.defineMetadata(METADATA_KEY.controllerMethod, metadataList, target.constructor);\n        } else {\n            metadataList = Reflect.getOwnMetadata(METADATA_KEY.controllerMethod, target.constructor);\n        }\n        metadataList.push(metadata);\n    };\n};\n","import { METADATA_KEY } from '../constants';\n\nexport interface ParamMetadata {\n    name?: string;\n    parameterIndex: number;\n}\n\nexport function Param(name?: string): ParameterDecorator {\n    return (t, tk, i) => {\n        applyParamDecorator(t, tk, i, name);\n    };\n};\n\nexport function applyParamDecorator(target: any, targetKey: string | symbol, parameterIndex: number, name?: string): void {\n    const metadatas: ParamMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerParam, target.constructor, targetKey) || [];\n    metadatas.push({ name, parameterIndex });\n    Reflect.defineMetadata(METADATA_KEY.controllerParam, metadatas, target.constructor, targetKey);\n}\n","import { METADATA_KEY } from '../constants';\n\nexport interface QueryMetadata {\n    name?: string;\n    parameterIndex: number;\n}\n\nexport function Query(name?: string): ParameterDecorator {\n    return (t, tk, i) => {\n        applyQueryDecorator(t, tk, i, name);\n    };\n};\n\nexport function applyQueryDecorator(target: any, targetKey: string | symbol, parameterIndex: number, name?: string): void {\n    const metadatas: QueryMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerQuery, target.constructor, targetKey) || [];\n    metadatas.push({ name, parameterIndex });\n    Reflect.defineMetadata(METADATA_KEY.controllerQuery, metadatas, target.constructor, targetKey);\n}\n","import { METADATA_KEY } from '../constants';\n\nexport interface RequestSessionMetadata {\n    name?: string;\n    parameterIndex: number;\n}\n\nexport interface ResponseSessionMetadata {\n    name: string;\n    value: string;\n}\n\nexport interface SessionDecorator {\n    (name?: string): ParameterDecorator;\n    (name: string, value: string): MethodDecorator;\n\n}\n\nexport const Session = <SessionDecorator>function (name?: string, value?: string) {\n    if (name && value) {\n        return (t: any, tk: string | symbol, d: PropertyDescriptor) => {\n            applyResponseSessionDecorator(t, tk, d, name, value);\n        };\n    } else {\n        return (t: any, tk: string | symbol, i: number) => {\n            applyRequestSessionDecorator(t, tk, i, name);\n        };\n    }\n};\n\nexport function applyRequestSessionDecorator(target: any, targetKey: string | symbol, parameterIndex: number, name?: string): void {\n    const metadatas: RequestSessionMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerRequestSession, target.constructor, targetKey) || [];\n    metadatas.push({ name, parameterIndex });\n    Reflect.defineMetadata(METADATA_KEY.controllerRequestSession, metadatas, target.constructor, targetKey);\n}\n\nexport function applyResponseSessionDecorator(target: any, targetKey: string | symbol, descriptor: PropertyDescriptor, name: string, value: string): void {\n    const metadatas: ResponseSessionMetadata[] = Reflect.getOwnMetadata(METADATA_KEY.controllerResponseSession, target.constructor, targetKey) || [];\n    metadatas.push({ name, value  });\n    Reflect.defineMetadata(METADATA_KEY.controllerResponseSession, metadatas, target.constructor, targetKey);\n}\n","import { METADATA_KEY } from '../constants';\n\nexport interface ViewMetadata {\n    viewName: string;\n}\n\nexport function View(viewName: string): MethodDecorator {\n    return (t, k, d) => {\n        applyViewDecorator(t, k, d, viewName);\n    };\n};\n\nexport function applyViewDecorator(target: any, targetKey: string | symbol, descriptor: TypedPropertyDescriptor<any>, viewName: string): void {\n    Reflect.defineMetadata(METADATA_KEY.controllerView, { viewName }, target.constructor, targetKey);\n}\n","export const METADATA_KEY = {\n    controller: 'malagu:controller',\n    controllerMethod: 'malagu:controller-method',\n    controllerParam: 'malagu:controller-param',\n    controllerRequestHeader: 'malagu:controller-request-header',\n    controllerResponseHeader: 'malagu:controller-response-header',\n    controllerRequestCookie: 'malagu:controller-request-cookie',\n    controllerResponseCookie: 'malagu:controller-response-cookie',\n    controllerRequestSession: 'malagu:controller-request-session',\n    controllerResponseSession: 'malagu:controller-response-session',\n    controllerQuery: 'malagu:controller-query',\n    controllerBody: 'malagu:controller-body',\n    controllerView: 'malagu:controller-view',\n    controllerCatch: 'malagu:controller-catch'\n\n};\n","import { Component, Autowired, Value } from '@malagu/core';\nimport { PathResolver } from '@malagu/web';\nimport { Context, RequestMatcher, HandlerAdapter } from '@malagu/web/lib/node';\nimport { ViewResolver, ResponseResolverProvider, MethodArgsResolverProvider } from '../resolver';\nimport { MVC_HANDLER_ADAPTER_PRIORITY, RouteMetadataMatcher } from './handler-protocol';\nimport { MVC_PATH } from '../../common';\nimport { PipeManager } from '@malagu/core';\nimport { NotFoundAndContinueError } from '@malagu/web/lib/node';\n\n@Component(HandlerAdapter)\nexport class MvcHandlerAdapter implements HandlerAdapter {\n    readonly priority = MVC_HANDLER_ADAPTER_PRIORITY;\n\n    @Autowired(MethodArgsResolverProvider)\n    protected readonly methodArgsResolverProvider: MethodArgsResolverProvider;\n\n    @Autowired(ResponseResolverProvider)\n    protected readonly responseResolverProvider: ResponseResolverProvider;\n\n    @Autowired(ViewResolver)\n    protected readonly viewResolver: ViewResolver;\n\n    @Autowired(RequestMatcher)\n    protected readonly requestMatcher: RequestMatcher;\n\n    @Autowired(PathResolver)\n    protected readonly pathResolver: PathResolver;\n\n    @Autowired(PipeManager)\n    protected readonly pipeManager: PipeManager;\n\n    @Value(MVC_PATH)\n    protected readonly mvcPath: string;\n\n    @Autowired(RouteMetadataMatcher)\n    protected readonly routeMetadataMatcher: RouteMetadataMatcher;\n\n    protected async resolveMethodArgs(metadata: any) {\n        const args: any[] = [];\n        for (const resolver of this.methodArgsResolverProvider.provide()) {\n            await resolver.resolve(metadata, args);\n        }\n        return args;\n    }\n\n    protected async resolveResponse(metadata: any) {\n        for (const resolver of this.responseResolverProvider.provide()) {\n            await resolver.resolve(metadata);\n        }\n    }\n\n    async handle(): Promise<void> {\n        const ctx = Context.getCurrent();\n        const path = ctx.request.path;\n        const routeMetadata = await this.routeMetadataMatcher.match();\n        if (routeMetadata) {\n            await this.doHandle(routeMetadata);\n        } else {\n            throw new NotFoundAndContinueError(`No mapping found: ${ctx.request.method} ${path}`);\n        }\n    }\n\n    protected async doHandle(metadata: any, err?: any): Promise<void> {\n        let args = await this.resolveMethodArgs(metadata);\n        if (err) {\n            args = [err, ...args];\n        }\n        const methodMetadata = metadata.methodMetadata;\n        const target = methodMetadata.target;\n        let model: any;\n        try {\n            await this.pipeManager.apply({ target, method: methodMetadata.key }, args);\n            model = await target[methodMetadata.key](...args);\n        } catch (error) {\n            if (!err) {\n                const errorMetadata = await this.getErrorMetadata(error);\n                if (!errorMetadata.viewMetadata.viewName) {\n                    errorMetadata.viewMetadata.viewName = metadata.viewMetadata.viewName;\n                }\n                await this.doHandle(errorMetadata, error);\n            } else {\n                throw error;\n            }\n        }\n        if (model) {\n            await this.viewResolver.resolve(metadata, model);\n        }\n        await this.resolveResponse(metadata);\n    }\n\n    protected async getErrorMetadata(error: Error) {\n        const routeMetadata = await this.routeMetadataMatcher.match(error);\n        if (routeMetadata) {\n            return routeMetadata;\n        }\n        throw error;\n    }\n\n    async canHandle(): Promise<boolean> {\n        return this.requestMatcher.match(await this.pathResolver.resolve(this.mvcPath));\n    }\n}\n","import { StrOrRegex, ParamMetadata, BodyMetadata, QueryMetadata, RequestHeaderMetadata,\n    ResponseHeaderMetadata, RequestCookieMetadata, ResponseCookieMetadata, RequestSessionMetadata,\n    ResponseSessionMetadata, ViewMetadata, MethodMetadata, CatchMetadata, ControllerMetadata } from '../annotation';\nimport { ErrorType } from '@malagu/core';\n\nexport const MVC_HANDLER_ADAPTER_PRIORITY = 2000;\n\nexport const RouteProvider = Symbol('RouteProvider');\nexport const RouteMetadataMatcher = Symbol('RouteMetadataMatcher');\n\nexport interface Route {\n    mapping: Map<string, Map<StrOrRegex, RouteMetadata>>;\n    errorMapping: Map<ErrorType, RouteMetadata>;\n}\n\nexport interface RouteMetadata {\n    controllerMetadata: ControllerMetadata;\n    methodMetadata: MethodMetadata | CatchMetadata;\n    paramMetadata?: ParamMetadata[];\n    bodyMetadata?: BodyMetadata[];\n    queryMetadata?: QueryMetadata[];\n    requestHeaderMetadata?: RequestHeaderMetadata[];\n    responseHeaderMetadata?: ResponseHeaderMetadata[];\n    requestCookieMetadata?: RequestCookieMetadata[];\n    responseCookieMetadata?: ResponseCookieMetadata[];\n    requestSessionMetadata?: RequestSessionMetadata[];\n    responseSessionMetadata?: ResponseSessionMetadata[];\n    viewMetadata: ViewMetadata;\n}\n\nexport interface RouteProvider {\n    provide(): Promise<Route>;\n}\n\nexport interface RouteMetadataMatcher {\n    match(error?: Error): Promise<RouteMetadata | undefined>;\n}\n","export * from './handler-adapter';\nexport * from './handler-protocol';\nexport * from './route-builder';\nexport * from './route-provider';\nexport * from './route-metadata-matcher';\n","import { CONTROLLER, ControllerMetadata } from '../annotation/controller';\nimport { METADATA_KEY } from '../constants';\nimport { StrOrRegex, MethodMetadata } from '../annotation/method';\nimport { getOwnMetadata, Component, Autowired, Optional, ErrorType } from '@malagu/core';\nimport { PathResolver } from '@malagu/web';\nimport { CatchMetadata } from '../annotation';\nimport { RouteMetadata } from './handler-protocol';\nimport { getTargetClass } from '@malagu/core/lib/common/utils/proxy-util';\n\n@Component()\nexport class RouteBuilder {\n\n    @Autowired(CONTROLLER) @Optional()\n    protected readonly controllers: any[] = [];\n\n    @Autowired(PathResolver)\n    protected readonly pathResolver: PathResolver;\n\n    async build() {\n        const mapping: Map<string, Map<StrOrRegex, RouteMetadata>> = new Map<string, Map<StrOrRegex, any>>();\n        const errorMapping: Map<ErrorType, any> = new Map<ErrorType, RouteMetadata>();\n\n        for (const controller of this.controllers) {\n            const targetConstructor = getTargetClass(controller);\n\n            const controllerMetadata = <ControllerMetadata>Reflect.getOwnMetadata(METADATA_KEY.controller, targetConstructor);\n            await this.doBuildRouteMap(mapping, targetConstructor, controller, controllerMetadata);\n            await this.doBuildErrorRouteMap(errorMapping, targetConstructor, controller, controllerMetadata);\n\n        }\n        return {\n            mapping,\n            errorMapping\n        };\n    }\n\n    protected async doBuildRouteMap(mapping: Map<string, Map<StrOrRegex, RouteMetadata>>, targetConstructor: any, controller: any, controllerMetadata: ControllerMetadata) {\n\n        const methodMetadata: MethodMetadata[] = getOwnMetadata(\n            METADATA_KEY.controllerMethod,\n            targetConstructor\n        );\n        for (const metadata of methodMetadata) {\n            const routeOptions: any = (typeof metadata.options === 'string' || metadata.options instanceof RegExp) ? { path: metadata.options } : metadata.options;\n            const m = { ...metadata };\n            const method = m.method;\n            m.target = controller;\n            let pathMap = mapping.get(method);\n            if (!pathMap) {\n                pathMap = new Map<StrOrRegex, RouteMetadata>();\n                mapping.set(method, pathMap);\n            }\n            let path: StrOrRegex = routeOptions.path;\n            if (typeof path === 'string' ) {\n                path = await this.pathResolver.resolve(controllerMetadata.path, path);\n            } else if (path instanceof RegExp) {\n                if (controllerMetadata.path) {\n                    path = new RegExp(await this.pathResolver.resolve(controllerMetadata.path, path.source));\n                }\n            }\n            pathMap.set(path, {\n                controllerMetadata,\n                methodMetadata: m,\n                ...this.doRouteMetadata(targetConstructor, m.key.toString())\n            });\n        }\n    }\n\n    protected async doBuildErrorRouteMap(errorMapping: Map<ErrorType, RouteMetadata>, targetConstructor: any, controller: any, controllerMetadata: ControllerMetadata) {\n        const methodMetadata: CatchMetadata[] = getOwnMetadata(\n            METADATA_KEY.controllerCatch,\n            targetConstructor\n        );\n        for (const metadata of methodMetadata) {\n            const m = { ...metadata };\n            m.target = controller;\n            for (const errorType of metadata.errorTypes) {\n                errorMapping.set(errorType, {\n                    controllerMetadata,\n                    methodMetadata: m,\n                    ...this.doRouteMetadata(targetConstructor, m.key.toString())\n                });\n            }\n        }\n    }\n\n    protected doRouteMetadata(targetConstructor: any, method: string) {\n        return {\n            paramMetadata: getOwnMetadata(METADATA_KEY.controllerParam, targetConstructor, method),\n            bodyMetadata: getOwnMetadata(METADATA_KEY.controllerBody, targetConstructor, method),\n            queryMetadata: getOwnMetadata(METADATA_KEY.controllerQuery, targetConstructor, method),\n            requestHeaderMetadata: getOwnMetadata(METADATA_KEY.controllerRequestHeader, targetConstructor, method),\n            responseHeaderMetadata: getOwnMetadata(METADATA_KEY.controllerResponseHeader, targetConstructor, method),\n            requestCookieMetadata: getOwnMetadata(METADATA_KEY.controllerRequestCookie, targetConstructor, method),\n            responseCookieMetadata: getOwnMetadata(METADATA_KEY.controllerResponseCookie, targetConstructor, method),\n            requestSessionMetadata: getOwnMetadata(METADATA_KEY.controllerRequestSession, targetConstructor, method),\n            responseSessionMetadata: getOwnMetadata(METADATA_KEY.controllerResponseSession, targetConstructor, method),\n            viewMetadata: getOwnMetadata(METADATA_KEY.controllerView, targetConstructor, method) || { }\n        };\n    }\n}\n","import { Component, Autowired } from '@malagu/core';\nimport { RouteProvider, RouteMetadata, RouteMetadataMatcher } from './handler-protocol';\nimport { Context, RequestMatcher } from '@malagu/web/lib/node';\n\nexport const PATH_PARMAS_ATTR = 'pathParams';\n\n@Component(RouteMetadataMatcher)\nexport class RouteMetadataMatcherImpl implements RouteMetadataMatcher {\n\n    @Autowired(RouteProvider)\n    protected readonly routeProvider: RouteProvider;\n\n    @Autowired(RequestMatcher)\n    protected readonly requestMatcher: RequestMatcher;\n\n    async match(error?: Error): Promise<RouteMetadata | undefined> {\n        const route = await this.routeProvider.provide();\n        if (error) {\n            const metadata = route.errorMapping.get(error.constructor);\n            if (metadata) {\n                return metadata;\n            } else {\n                for (const entry of route.errorMapping) {\n                    if (error instanceof <any>entry[0]) {\n                        return entry[1];\n                    }\n                }\n            }\n        } else {\n            const request = Context.getRequest();\n            const pathMap = route.mapping.get(request.method!.toUpperCase());\n            if (pathMap) {\n                for (const entry of pathMap) {\n                    const [ p, metadata ] = entry;\n                    const pathParams = await this.requestMatcher.match(p);\n                    if (pathParams) {\n                        Context.setAttr(PATH_PARMAS_ATTR, pathParams);\n                        return metadata;\n                    }\n                }\n            }\n        }\n    }\n\n}\n","import { Component, Autowired, Deferred } from '@malagu/core';\nimport { Route, RouteProvider } from './handler-protocol';\nimport { RouteBuilder } from './route-builder';\nimport { postConstruct } from 'inversify';\n\n@Component(RouteProvider)\nexport class RouteProviderImpl implements RouteProvider {\n\n    protected route: Route;\n\n    protected routeDefered = new Deferred<Route>();\n\n    @Autowired(RouteBuilder)\n    protected readonly routeBuilder: RouteBuilder;\n\n    @postConstruct()\n    protected async init() {\n        this.route = await this.routeBuilder.build();\n        this.routeDefered.resolve(this.route);\n    }\n\n    provide(): Promise<Route> {\n        return this.routeDefered.promise;\n    }\n\n}\n","export * from './annotation';\nexport * from './handler';\nexport * from './resolver';\nexport * from './view';\n","import 'reflect-metadata';\nimport { autoBind } from '@malagu/core';\nimport '.';\n\nexport default autoBind();\n","export * from './response-resolver';\nexport * from './method-args-resolver';\nexport * from './method-args-resolver-provider';\nexport * from './resolver-protocol';\nexport * from './response-resolver-provider';\nexport * from './view-resolver';\nexport * from './view-resolver-provider';\n","import { Component, Autowired, Prioritizeable } from '@malagu/core';\nimport { MethodArgsResolver } from './resolver-protocol';\n\n@Component()\nexport class MethodArgsResolverProvider {\n\n    protected prioritized: MethodArgsResolver[];\n\n    constructor(\n        @Autowired(MethodArgsResolver)\n        protected readonly methodArgsResolvers: MethodArgsResolver[]\n    ) { }\n\n    provide(): MethodArgsResolver[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.methodArgsResolvers).map(c => c.value);\n        }\n        return this.prioritized;\n    }\n\n}\n","import { MethodArgsResolver } from './resolver-protocol';\nimport { Context } from '@malagu/web/lib/node';\nimport { Component } from '@malagu/core';\nimport { BodyMetadata, RequestHeaderMetadata, ParamMetadata, QueryMetadata, RequestCookieMetadata, RequestSessionMetadata } from '../annotation';\nimport { PATH_PARMAS_ATTR } from '../handler';\n\n@Component(MethodArgsResolver)\nexport class BodyMethodArgsResolver implements MethodArgsResolver {\n    readonly priority = 100;\n    async resolve(metadata: any, args: any[]): Promise<void> {\n        const body: any = Context.getCurrent().request.body;\n        const bodyMetadatas = <BodyMetadata[]>metadata.bodyMetadata;\n        if (bodyMetadatas && body !== undefined) {\n            for (const m of bodyMetadatas) {\n                args[m.parameterIndex] = m.name ? body[m.name] : body;\n            }\n        }\n    }\n}\n\n@Component(MethodArgsResolver)\nexport class HeaderMethodArgsResolver implements MethodArgsResolver {\n    readonly priority = 200;\n    async resolve(metadata: any, args: any[]): Promise<void> {\n        const request = Context.getCurrent().request;\n        const headerMetadatas = <RequestHeaderMetadata[]>metadata.requestHeaderMetadata;\n        if (headerMetadatas) {\n            for (const m of headerMetadatas) {\n                args[m.parameterIndex] = m.name ? request.get(m.name) : request.headers;\n            }\n        }\n    }\n}\n\n@Component(MethodArgsResolver)\nexport class ParamMethodArgsResolver implements MethodArgsResolver {\n    readonly priority = 300;\n\n    async resolve(metadata: any, args: any[]): Promise<void> {\n        const params: any = Context.getAttr(PATH_PARMAS_ATTR);\n        const paramMetadatas = <ParamMetadata[]>metadata.paramMetadata;\n        if (paramMetadatas && params) {\n            for (const m of paramMetadatas) {\n                args[m.parameterIndex] = m.name ? params[m.name] : params;\n            }\n        }\n    }\n}\n\n@Component(MethodArgsResolver)\nexport class QueryMethodArgsResolver implements MethodArgsResolver {\n    readonly priority = 400;\n    async resolve(metadata: any, args: any[]): Promise<void> {\n        const query: any = Context.getCurrent().request.query;\n        const queryMetadatas = <QueryMetadata[]>metadata.queryMetadata;\n        if (queryMetadatas && query !== undefined) {\n            for (const m of queryMetadatas) {\n                args[m.parameterIndex] = m.name ? query[m.name] : query;\n            }\n        }\n    }\n}\n\n@Component(MethodArgsResolver)\nexport class CookieMethodArgsResolver implements MethodArgsResolver {\n    readonly priority = 500;\n    async resolve(metadata: any, args: any[]): Promise<void> {\n        const cookies = Context.getCookies();\n        const cookieMetadatas = <RequestCookieMetadata[]>metadata.requestCookieMetadata;\n        if (cookieMetadatas && cookies !== undefined) {\n            for (const m of cookieMetadatas) {\n                args[m.parameterIndex] = m.name ? cookies.get(m.name) : cookies;\n            }\n        }\n    }\n}\n\n@Component(MethodArgsResolver)\nexport class SessionMethodArgsResolver implements MethodArgsResolver {\n    readonly priority = 600;\n    async resolve(metadata: any, args: any[]): Promise<void> {\n        const session = Context.getSession();\n        const sessionMetadatas = <RequestSessionMetadata[]>metadata.requestSessionMetadata;\n        if (sessionMetadatas && session !== undefined) {\n            for (const m of sessionMetadatas) {\n                args[m.parameterIndex] = m.name ? session[m.name] : session;\n            }\n        }\n    }\n}\n","\nexport const MethodArgsResolver = Symbol('MethodArgsResolver');\nexport const ResponseResolver = Symbol('ResponseResolver');\nexport const ViewResolver = Symbol('ViewResolver');\n\nexport interface MethodArgsResolver {\n    readonly priority: number;\n    resolve(metadata: any, args: any[]): Promise<void>;\n}\n\nexport interface ResponseResolver {\n    readonly priority: number;\n    resolve(metadata: any): Promise<void>;\n}\n\nexport interface ViewResolver {\n    resolve(metadata: any, model: any): Promise<void>;\n}\n","import { Component, Autowired, Prioritizeable } from '@malagu/core';\nimport { ResponseResolver } from './resolver-protocol';\n\n@Component()\nexport class ResponseResolverProvider {\n\n    protected prioritized: ResponseResolver[];\n\n    constructor(\n        @Autowired(ResponseResolver)\n        protected readonly responseResolvers: ResponseResolver[]\n    ) { }\n\n    provide(): ResponseResolver[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.responseResolvers).map(c => c.value);\n        }\n        return this.prioritized;\n    }\n\n}\n","import { ResponseResolver } from './resolver-protocol';\nimport { Context } from '@malagu/web/lib/node';\nimport { Component } from '@malagu/core';\nimport { ResponseHeaderMetadata, ResponseCookieMetadata, ResponseSessionMetadata } from '../annotation';\n\n@Component(ResponseResolver)\nexport class HeaderResponseResolver implements ResponseResolver {\n    readonly priority = 500;\n    async resolve(metadata: any): Promise<void> {\n        const response = Context.getCurrent().response;\n        const headerMetadatas = <ResponseHeaderMetadata[]>metadata.responseHeaderMetadata;\n        if (headerMetadatas) {\n            for (const m of headerMetadatas) {\n                response.setHeader(m.name, m.value);\n            }\n        }\n    }\n}\n\n@Component(ResponseResolver)\nexport class CookieResponseResolver implements ResponseResolver {\n    readonly priority = 500;\n    async resolve(metadata: any): Promise<void> {\n        const cookies = Context.getCookies();\n        const cookieMetadatas = <ResponseCookieMetadata[]>metadata.responseCookieMetadata;\n        if (cookieMetadatas && cookies) {\n            for (const m of cookieMetadatas) {\n                cookies.set(m.name, m.value);\n            }\n        }\n    }\n}\n\n@Component(ResponseResolver)\nexport class SessionResponseResolver implements ResponseResolver {\n    readonly priority = 500;\n    async resolve(metadata: any): Promise<void> {\n        const session = Context.getSession();\n        const sessionMetadatas = <ResponseSessionMetadata[]>metadata.responseSessionMetadata;\n        if (sessionMetadatas && session) {\n            for (const m of sessionMetadatas) {\n                session[m.name] = m.value;\n            }\n        }\n    }\n}\n","import { Component, Autowired, Prioritizeable } from '@malagu/core';\nimport { ViewResolver } from './resolver-protocol';\n\n@Component()\nexport class ViewResolverProvider {\n\n    protected prioritized: ViewResolver[];\n\n    constructor(\n        @Autowired(ViewResolver)\n        protected readonly viewResolvers: ViewResolver[]\n    ) { }\n\n    provide(): ViewResolver[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.viewResolvers).map(c => c.value);\n        }\n        return this.prioritized;\n    }\n\n}\n","import { ViewResolver } from './resolver-protocol';\nimport { Component, Autowired, Value } from '@malagu/core';\nimport { ViewProvider } from '../view/view-provider';\nimport { ViewMetadata } from '../annotation/view';\nimport { Context } from '@malagu/web/lib/node';\nimport { HttpHeaders } from '@malagu/web';\n\n@Component(ViewResolver)\nexport class ViewResolverImpl implements ViewResolver {\n\n    @Value('malagu.mvc.defaultViewName')\n    protected readonly defaultViewName: string;\n\n    @Autowired(ViewProvider)\n    protected readonly viewProvider: ViewProvider;\n\n    async resolve(metadata: any, model: any): Promise<void> {\n        const viewMetadata = <ViewMetadata>metadata.viewMetadata;\n        const viewName = viewMetadata.viewName || this.defaultViewName;\n        for (const view of this.viewProvider.provide()) {\n            if (await view.support(viewName)) {\n                Context.getResponse().setHeader(HttpHeaders.CONTENT_TYPE, view.contentType);\n                await view.render(model, viewName);\n                return;\n            }\n        }\n        throw new Error('Not found a suitable view.');\n    }\n}\n","import { Component, Value } from '@malagu/core';\nimport { View } from './view-protocol';\nimport { Context } from '@malagu/web/lib/node';\nimport { render, parse } from 'mustache';\nimport { join } from 'path';\nimport { readFileSync } from 'fs-extra';\n\n@Component(View)\nexport class HtmlView implements View {\n\n    readonly contentType = 'text/html';\n\n    readonly priority = 500;\n\n    @Value('malagu.mustache')\n    protected readonly options: any;\n\n    async render(model: any, viewName: string): Promise<void> {\n        const response = Context.getCurrent().response;\n        const { baseViewDir, cache } = this.options;\n        const template = readFileSync(join(__dirname, baseViewDir, viewName), { encoding: 'utf8' });\n        if (cache) {\n            parse(template);\n        }\n        response.body = render(template, model);\n    }\n\n    support(viewName: string): Promise<boolean> {\n        return Promise.resolve(viewName.endsWith('.mustache'));\n    }\n}\n","export * from './json-view';\nexport * from './text-view';\nexport * from './view-provider';\nexport * from './html-view';\n","import { Component } from '@malagu/core';\nimport { View } from './view-protocol';\nimport { Context } from '@malagu/web/lib/node';\n\n@Component(View)\nexport class JsonView implements View {\n\n    static VIEW_NAME = 'json';\n\n    readonly contentType = 'application/json';\n\n    readonly priority = 500;\n\n    async render(model: any, viewName: string): Promise<void> {\n        const response = Context.getCurrent().response;\n        response.body = JSON.stringify(model);\n    }\n\n    support(viewName: string): Promise<boolean> {\n        return Promise.resolve(viewName === JsonView.VIEW_NAME);\n    }\n}\n","import { Component } from '@malagu/core';\nimport { View } from './view-protocol';\nimport { Context } from '@malagu/web/lib/node';\n\n@Component(View)\nexport class TextView implements View {\n\n    static VIEW_NAME = 'text';\n\n    readonly contentType = 'text/plain';\n\n    readonly priority = 600;\n\n    async render(model: any, viewName: string): Promise<void> {\n        const response = Context.getCurrent().response;\n        response.body = model;\n    }\n\n    support(viewName: string): Promise<boolean> {\n        return Promise.resolve(viewName === TextView.VIEW_NAME);\n    }\n}\n","export const View = Symbol('View');\n\nexport interface View {\n    readonly contentType: string;\n    render(model: any, viewName: string): Promise<void>;\n    support(viewName: string): Promise<boolean>;\n}\n","import { Component, Autowired, Prioritizeable } from '@malagu/core';\nimport { View } from './view-protocol';\n\n@Component()\nexport class ViewProvider {\n\n    protected prioritized: View[];\n\n    constructor(\n        @Autowired(View)\n        protected readonly views: View[]\n    ) { }\n\n    provide(): View[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.views).map(c => c.value);\n        }\n        return this.prioritized;\n    }\n\n}\n","import { applyAutowiredDecorator, IdOrAutowiredOption, DoInject, parseAutowiredOption } from '@malagu/core';\nimport { inject, tagged } from 'inversify';\n\nexport const RPC = Symbol('RPC');\nexport const ID_KEY = Symbol('ID_KEY');\n\nexport const Autorpc = function (idOrOption?: IdOrAutowiredOption): PropertyDecorator & ParameterDecorator {\n    return (target: any, targetKey: string, index?: number) => {\n        const option = parseAutowiredOption(target, targetKey, index, idOrOption);\n        applyAutowiredDecorator(option, target, targetKey, index, doInjectForAutorpc);\n    };\n};\n\nexport const doInjectForAutorpc: DoInject = (option, t, k, i) => {\n    inject(RPC)(t, k, i);\n    tagged(ID_KEY, option.id!)(t, k, i);\n};\n\n","export * from './rpc';\nexport * from './autorpc';\n","import { ComponentDecorator, applyComponentDecorator, ComponentOption, PipeManager, parseComponentOption } from '@malagu/core';\nimport { AOP_POINTCUT } from '@malagu/web';\nimport { ErrorConverter } from '../converter';\nimport { ConnectionHandler } from '../handler';\nimport { JsonRpcConnectionHandler } from '../factory';\nimport { RpcUtil } from '../utils';\n\nexport const RPC_TAG = 'Rpc';\n\nexport const Rpc = <ComponentDecorator>function (...idOrOption: any): ClassDecorator {\n    return target => {\n        const option = parseRpcOption(target, idOrOption);\n        applyRpcDecorator(option, target);\n    };\n};\n\nexport function parseRpcOption(target: any, idOrOption?: any) {\n    const parsed = parseComponentOption(target, idOrOption);\n\n    if (idOrOption?.proxy === undefined) {\n        parsed.proxy = true;\n    }\n    parsed.sysTags!.push(AOP_POINTCUT, RPC_TAG);\n    return parsed;\n}\n\nexport function applyRpcDecorator(option: ComponentOption, target: any) {\n    const { ids } = applyComponentDecorator(option, target);\n    const id = ids[0];\n    return applyComponentDecorator({ id: ConnectionHandler, onActivation: context => {\n        const t = context.container.get(id);\n        const pipeManager = context.container.get<PipeManager>(PipeManager);\n        const errorConverters = [];\n        try {\n            const name = RpcUtil.toName(id);\n            errorConverters.push(context.container.getNamed<ErrorConverter>(ErrorConverter, name));\n        } catch (error) {\n            if (!error?.message.startsWith('No matching bindings found for serviceIdentifier: Symbol(ErrorConverter)')) {\n                throw error;\n            }\n        }\n        return new JsonRpcConnectionHandler(RpcUtil.toPath(id), () => t, errorConverters, pipeManager);\n    }}, target);\n}\n","import { Disposable } from 'vscode-jsonrpc';\nimport { DisposableCollection } from '@malagu/core';\n\nexport interface Channel {\n    handleMessage(message: Channel.Message): void;\n    send(content: string): void;\n    onMessage(cb: (data: any) => void): void;\n}\n\nexport namespace Channel {\n    export interface OpenMessage {\n        kind: 'open'\n        id: number\n        path: string\n    }\n    export interface ReadyMessage {\n        kind: 'ready'\n        id: number\n    }\n    export interface DataMessage {\n        kind: 'data'\n        id: number\n        content: string\n    }\n    export interface CloseMessage {\n        kind: 'close'\n        id: number\n        code: number\n        reason: string\n    }\n    export interface HttpMessage {\n        kind: 'http'\n        id: number\n        path?: string\n        content: string\n    }\n    export type Message = OpenMessage | ReadyMessage | DataMessage | CloseMessage | HttpMessage;\n}\n\nexport abstract class AbstractChannel implements Channel, Disposable {\n\n    protected readonly toDispose = new DisposableCollection();\n\n    constructor(\n        readonly id: number,\n        protected readonly doSend: (content: string) => Promise<void>\n    ) { }\n\n    dispose(): void {\n        this.toDispose.dispose();\n    }\n\n    protected checkNotDisposed(): void {\n        if (this.toDispose.disposed) {\n            throw new Error('The channel has been disposed.');\n        }\n    }\n\n    abstract handleMessage(message: Channel.Message): void;\n\n    abstract doGetMessage(content: string): Channel.Message;\n\n    send(content: string): void {\n        this.checkNotDisposed();\n        this.doSend(JSON.stringify(this.doGetMessage(content)));\n    }\n\n    protected fireMessage: (data: any) => void = () => { };\n    onMessage(cb: (data: any) => void): void {\n        this.checkNotDisposed();\n        this.fireMessage = cb;\n        this.toDispose.push(Disposable.create(() => this.fireMessage = () => { }));\n    }\n\n    fireError: (reason: any) => void = () => { };\n    onError(cb: (reason: any) => void): void {\n        this.checkNotDisposed();\n        this.fireError = cb;\n        this.toDispose.push(Disposable.create(() => this.fireError = () => { }));\n    }\n\n}\n","import { Channel, AbstractChannel } from './channel-protocol';\n\nexport class HttpChannel extends AbstractChannel {\n\n    constructor(\n        id: number,\n        doSend: (content: string) => Promise<void>,\n        protected readonly path?: string\n    ) {\n        super(id, doSend);\n    }\n\n    protected checkNotDisposed(): void {\n        // noop\n    }\n\n    handleMessage(message: Channel.HttpMessage) {\n        this.fireMessage(message.content);\n    }\n\n    doGetMessage(content: string): Channel.Message {\n        return <Channel.HttpMessage>{\n            kind: 'http',\n            id: this.id,\n            path: this.path,\n            content\n        };\n    }\n\n}\n","export * from './http-channel';\nexport * from './channel-protocol';\n","export const RPC_PATH = 'malagu.rpc.path';\n","export const ErrorConverter = Symbol('ErrorConverter');\n\nexport interface ErrorConverter {\n    serialize(e: any): any;\n    deserialize(e: any): any\n}\n","export * from './converter-protocol';\n","export const EndpointResolver = Symbol('EndpointResolver');\n\nexport interface EndpointResolver {\n    resolve(serviceIdentifier: string): Promise<string>;\n}\n","import { Autowired, Component, Value } from '@malagu/core';\nimport { RPC_PATH } from '../constants';\nimport { PathResolver } from '@malagu/web';\nimport { EndpointNotFoundError } from '../error';\nimport { EndpointResolver } from './endpoint-protocol';\n\n@Component(EndpointResolver)\nexport class EndpointResolverImpl implements EndpointResolver {\n\n    @Value('malagu.rpc.endpoint')\n    protected readonly endpoint?: { [id: string]: string };\n\n    @Value('malagu.rpc.defaultEndpoint')\n    protected readonly defaultEndpoint?: string;\n\n    @Value(RPC_PATH)\n    protected readonly rpcPath: string;\n\n    @Autowired(PathResolver)\n    protected pathResolver: PathResolver;\n\n    protected parsed: Map<string, string>;\n\n    async resolve(serviceIdentifier: string): Promise<string> {\n        let result: string | undefined;\n        if (this.endpoint) {\n            result = this.endpoint[serviceIdentifier];\n        }\n        if (/^https?:/i.test(serviceIdentifier)) {\n            result = serviceIdentifier;\n        }\n        if (!result) {\n            result = this.defaultEndpoint;\n        }\n        if (!result && typeof location !== 'undefined') {\n            result = `${location.protocol}//${location.host}{rpcPath}/{serviceIdentifier}`;\n        }\n        if (!result) {\n            throw new EndpointNotFoundError(serviceIdentifier);\n        }\n        return result\n            .replace('{rpcPath}', await this.pathResolver.resolve(this.rpcPath))\n            .replace('{serviceIdentifier}', serviceIdentifier);\n    }\n\n}\n","export * from './endpoint-protocol';\nexport * from './endpoint-resolver';\n","import { CustomError } from '@malagu/core';\n\nexport class EndpointNotFoundError extends CustomError {\n    constructor(public serviceId: string) {\n        super(`No endpoint found: ${serviceId}`);\n    }\n}\n","export * from './error';\n","import { MessageConnection, createMessageConnection, Logger } from 'vscode-jsonrpc';\nimport { Channel } from '../channal/channel-protocol';\nimport { ChannelMessageReader } from './reader';\nimport { ChannelMessageWriter } from './writer';\nimport { Component } from '@malagu/core';\n\nexport const ConnnectionFactory = Symbol('ConnnectionFactory');\n\nexport interface ConnnectionFactory<T> {\n    create(t: T, logger: Logger): MessageConnection;\n}\n@Component(ConnnectionFactory)\nexport class ConnnectionFactoryImpl implements ConnnectionFactory<Channel> {\n    create(channel: Channel, logger: Logger): MessageConnection {\n        const messageReader = new ChannelMessageReader(channel);\n        const messageWriter = new ChannelMessageWriter(channel);\n        const connection = createMessageConnection(messageReader, messageWriter, logger);\n        connection.onClose(() => connection.dispose());\n        return connection;\n    }\n}\n","export * from './proxy-factory';\nexport * from './connection-factory';\nexport * from './reader';\nexport * from './writer';\n","import { MessageConnection, ResponseError, Emitter, Event } from 'vscode-jsonrpc';\nimport { ApplicationError, Disposable, getPropertyNames } from '@malagu/core';\nimport { PipeManager } from '@malagu/core';\nimport { ErrorConverter } from '../converter';\nimport { ConnectionHandler } from '../handler';\n\nexport type JsonRpcServer<Client> = Disposable & {\n    /**\n     * If this server is a proxy to a remote server then\n     * a client is used as a local object\n     * to handle JSON-RPC messages from the remote server.\n     */\n    setClient(client: Client | undefined): void;\n};\n\nexport interface JsonRpcConnectionEventEmitter {\n    readonly onDidOpenConnection: Event<void> ;\n    readonly onDidCloseConnection: Event<void>;\n}\nexport type JsonRpcProxy<T> = T & JsonRpcConnectionEventEmitter;\n\nexport class JsonRpcConnectionHandler<T extends object> implements ConnectionHandler {\n    constructor(\n        readonly path: string,\n        readonly targetFactory: (proxy: JsonRpcProxy<T>) => any,\n        readonly errorConverters: ErrorConverter[],\n        readonly pipeManager: PipeManager\n    ) { }\n\n    onConnection(connection: MessageConnection): void {\n        const factory = new JsonRpcProxyFactory<T>(undefined, this.errorConverters, this.pipeManager);\n        const proxy = factory.createProxy();\n        factory.target = this.targetFactory(proxy);\n        factory.listen(connection);\n    }\n}\n\nexport class JsonRpcProxyFactory<T extends object> implements ProxyHandler<T> {\n\n    private static SET_CLIENT = 'setClient';\n    private static ON_DID_OPEN_CONNECTION = 'onDidOpenConnection';\n    private static ON_DID_CLOSE_CONNECTION = 'onDidCloseConnection';\n    private readonly onDidOpenConnectionEmitter = new Emitter<void>();\n    private readonly onDidCloseConnectionEmitter = new Emitter<void>();\n    protected internalMethods: Map<string, () => any>;\n\n    protected connectionPromiseResolve: (connection: MessageConnection) => void;\n    protected connectionPromise: Promise<MessageConnection>;\n\n    constructor(public target?: any, protected errorConverters?: ErrorConverter[], protected pipeMananger?: PipeManager) {\n        this.waitForConnection();\n    }\n\n    protected waitForConnection(): void {\n        this.connectionPromise = new Promise(resolve =>\n            this.connectionPromiseResolve = resolve\n        );\n        this.connectionPromise.then(connection => {\n            connection.onClose(() =>\n                this.onDidCloseConnectionEmitter.fire(undefined)\n            );\n            this.onDidOpenConnectionEmitter.fire(undefined);\n        });\n    }\n\n    protected getRequestHander(prop: string) {\n        return (...args: any[]) => this.onRequest(prop, ...args);\n    }\n\n    protected getNotificationHander(prop: string) {\n        return (...args: any[]) => this.onNotification(prop, ...args);\n    }\n\n    protected registerMethods(connection: MessageConnection) {\n        if (this.target) {\n            for (const prop of getPropertyNames(this.target)) {\n                if (typeof this.target[prop] === 'function') {\n                    connection.onRequest(prop, this.getRequestHander(prop));\n                    connection.onNotification(prop, this.getNotificationHander(prop));\n                }\n            }\n        }\n    }\n\n    listen(connection: MessageConnection) {\n        this.registerMethods(connection);\n        connection.onDispose(() => this.waitForConnection());\n        connection.listen();\n        this.connectionPromiseResolve(connection);\n    }\n\n    protected async onRequest(method: string, ...args: any[]): Promise<any> {\n        try {\n            if (this.pipeMananger) {\n                await this.pipeMananger.apply({ target: this.target, method: method }, args);\n            }\n            return await this.target[method](...args);\n        } catch (error) {\n            const e = this.serializeError(error);\n            if (e instanceof ResponseError) {\n                throw e;\n            }\n            const reason = e.message || '';\n            const stack = e.stack || '';\n            console.error(`Request ${method} failed with error: ${reason}`, stack);\n            throw e;\n        }\n    }\n\n    protected onNotification(method: string, ...args: any[]): void {\n        this.target[method](...args);\n    }\n\n    createProxy(): JsonRpcProxy<T> {\n        const proxy = new Proxy<T>(this as any, this);\n        return proxy as any;\n    }\n\n    get(target: T, p: PropertyKey, receiver: any): any {\n        const method = this.getInternalMethod(p.toString());\n        if (method) {\n            return method;\n        }\n        return this.createProxyMethod(p.toString());\n    }\n\n    protected getInternalMethod(method: string) {\n        if (method === JsonRpcProxyFactory.SET_CLIENT) {\n            return  (client: any) => this.target = client;\n        }\n        if (method === JsonRpcProxyFactory.ON_DID_OPEN_CONNECTION) {\n            return this.onDidOpenConnectionEmitter.event;\n        }\n        if (method === JsonRpcProxyFactory.ON_DID_CLOSE_CONNECTION) {\n            return this.onDidCloseConnectionEmitter.event;\n        }\n    }\n\n    protected createProxyMethod(method: string) {\n        const isNotify = this.isNotification(method);\n        return async (...args: any[]) => {\n            const capturedError = new Error(`Request '${method}' failed`);\n            const connection =  await this.connectionPromise;\n            if (isNotify) {\n                connection.sendNotification(method, ...args);\n            } else {\n                try {\n                    return await connection.sendRequest(method, ...args) as Promise<any>;\n                } catch (err) {\n                    throw this.deserializeError(capturedError, err);\n                }\n            }\n        };\n    }\n\n    protected isNotification(p: PropertyKey): boolean {\n        return p.toString().startsWith('notify') || p.toString().startsWith('on');\n    }\n\n    protected serializeError(e: any): any {\n        if (this.errorConverters) {\n            for (const converter of this.errorConverters) {\n                const serialized = converter.serialize(e);\n                if (serialized) {\n                    e = serialized;\n                    break;\n                }\n            }\n        }\n        if (ApplicationError.is(e)) {\n            return new ResponseError(e.code, '',\n                Object.assign({ kind: 'application' }, e.toJson())\n            );\n        }\n        return e;\n    }\n    protected deserializeError(capturedError: Error, e: any): any {\n        if (e instanceof ResponseError) {\n            const capturedStack = capturedError.stack || '';\n            if (e.data && e.data.kind === 'application') {\n                const { stack, data, message } = e.data;\n                e = ApplicationError.fromJson(e.code, {\n                    message: message || capturedError.message,\n                    data,\n                    stack: `${capturedStack}\\nCaused by: ${stack}`\n                });\n            } else {\n                e.stack = capturedStack;\n            }\n        }\n        if (this.errorConverters) {\n            for (const converter of this.errorConverters) {\n                const deserialized = converter.deserialize(e);\n                if (deserialized) {\n                    return deserialized;\n                }\n            }\n        }\n        return e;\n    }\n\n}\n","import { DataCallback, PartialMessageInfo } from 'vscode-jsonrpc/lib/messageReader';\nimport { Channel } from '../channal/channel-protocol';\nimport { Emitter, Event } from 'vscode-jsonrpc/lib/events';\n\nexport abstract class AbstractMessageReader {\n\n    private errorEmitter: Emitter<Error>;\n    private closeEmitter: Emitter<void>;\n\n    private partialMessageEmitter: Emitter<PartialMessageInfo>;\n\n    constructor() {\n        this.errorEmitter = new Emitter<Error>();\n        this.closeEmitter = new Emitter<void>();\n        this.partialMessageEmitter = new Emitter<PartialMessageInfo>();\n    }\n\n    public dispose(): void {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n\n    public get onError(): Event<Error> {\n        return this.errorEmitter.event;\n    }\n\n    protected fireError(error: any): void {\n        this.errorEmitter.fire(this.asError(error));\n    }\n\n    public get onClose(): Event<void> {\n        return this.closeEmitter.event;\n    }\n\n    protected fireClose(): void {\n        this.closeEmitter.fire(undefined);\n    }\n\n    public get onPartialMessage(): Event<PartialMessageInfo> {\n        return this.partialMessageEmitter.event;\n    }\n\n    protected firePartialMessage(info: PartialMessageInfo): void {\n        this.partialMessageEmitter.fire(info);\n    }\n\n    private asError(error: any): Error {\n        if (error instanceof Error) {\n            return error;\n        } else {\n            return new Error(`Reader received error. Reason: ${typeof (error.message) === 'string' ? error.message : 'unknown'}`);\n        }\n    }\n}\n\nexport class ChannelMessageReader extends AbstractMessageReader {\n\n    protected state: 'initial' | 'listening' | 'closed' = 'initial';\n    protected callback: DataCallback | undefined;\n    protected readonly events: { message?: any, error?: any }[] = [];\n\n    constructor(protected readonly channel: Channel) {\n        super();\n        this.channel.onMessage(message =>\n            this.readMessage(message)\n        );\n    }\n\n    listen(callback: DataCallback): void {\n        if (this.state === 'initial') {\n            this.state = 'listening';\n            this.callback = callback;\n            while (this.events.length !== 0) {\n                const event = this.events.pop()!;\n                if (event.message) {\n                    this.readMessage(event.message);\n                } else if (event.error) {\n                    this.fireError(event.error);\n                }\n            }\n        }\n    }\n\n    protected readMessage(message: any): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, { message });\n        } else if (this.state === 'listening') {\n            const data = JSON.parse(message);\n            this.callback!(data);\n        }\n    }\n\n    protected fireError(error: any): void {\n        if (this.state === 'initial') {\n            this.events.splice(0, 0, { error });\n        } else if (this.state === 'listening') {\n            super.fireError(error);\n        }\n    }\n\n}\n","import { Message } from 'vscode-jsonrpc/lib/messages';\nimport { } from 'vscode-jsonrpc/lib/messageWriter';\nimport { Emitter, Event } from 'vscode-jsonrpc/lib/events';\nimport { Channel } from '../channal';\n\nexport abstract class AbstractMessageWriter {\n\n    private errorEmitter: Emitter<[Error, Message | undefined, number | undefined]>;\n    private closeEmitter: Emitter<void>;\n\n    constructor() {\n        this.errorEmitter = new Emitter<[Error, Message, number]>();\n        this.closeEmitter = new Emitter<void>();\n    }\n\n    public dispose(): void {\n        this.errorEmitter.dispose();\n        this.closeEmitter.dispose();\n    }\n\n    public get onError(): Event<[Error, Message | undefined, number | undefined]> {\n        return this.errorEmitter.event;\n    }\n\n    protected fireError(error: any, message?: Message, count?: number): void {\n        this.errorEmitter.fire([this.asError(error), message, count]);\n    }\n\n    public get onClose(): Event<void> {\n        return this.closeEmitter.event;\n    }\n\n    protected fireClose(): void {\n        this.closeEmitter.fire(undefined);\n    }\n\n    private asError(error: any): Error {\n        if (error instanceof Error) {\n            return error;\n        } else {\n            return new Error(`Writer received error. Reason: ${typeof error.message === 'string' ? error.message : 'unknown'}`);\n        }\n    }\n}\n\nexport class ChannelMessageWriter extends AbstractMessageWriter {\n\n    protected errorCount = 0;\n\n    constructor(protected readonly channel: Channel) {\n        super();\n    }\n\n    write(msg: Message): void {\n        try {\n            const content = JSON.stringify(msg);\n            this.channel.send(content);\n        } catch (e) {\n            this.errorCount++;\n            this.fireError(e, msg, this.errorCount);\n        }\n    }\n\n}\n","import { MessageConnection } from 'vscode-jsonrpc';\nimport { ConnectionHandler } from './handler-protocol';\n\nexport class NoOpConnectionHandler implements ConnectionHandler {\n    readonly path: string;\n    onConnection(connection: MessageConnection): void {}\n}\n","import { MessageConnection } from 'vscode-jsonrpc';\n\nexport const ConnectionHandler = Symbol('ConnectionHandler');\n\nexport interface ConnectionHandler {\n    readonly path: string;\n    onConnection(connection: MessageConnection): void;\n}\n","export * from './connection-handler';\nexport * from './handler-protocol';\n","export * from './annotation';\nexport * from './channal';\nexport * from './endpoint';\nexport * from './error';\nexport * from './factory';\nexport * from './handler';\nexport * from './proxy';\nexport * from './utils';\nexport * from './constants';\nexport * from './converter';\nexport * from './processor';\n","import { autoBind } from '@malagu/core';\nimport { ProxyProvider } from './proxy';\nimport { ErrorConverter } from './converter';\nimport { ID_KEY, RPC } from './annotation';\nimport { RpcUtil } from './utils';\nexport * from '.';\n\nexport default autoBind(bind => {\n\n    bind(RPC).toDynamicValue(ctx => {\n        const id = ctx.currentRequest.target.getCustomTags()?.find(m => m.key === ID_KEY)!.value;\n        const path = RpcUtil.toPath(id);\n        const proxyProvider = ctx.container.get<ProxyProvider>(ProxyProvider);\n        const errorConverters = [];\n        try {\n            const name = RpcUtil.toName(id);\n            errorConverters.push(ctx.container.getNamed<ErrorConverter>(ErrorConverter, name));\n        } catch (error) {\n            if (!error?.message.startsWith('No matching bindings found for serviceIdentifier: Symbol(ErrorConverter)')) {\n                throw error;\n            }\n        }\n        return proxyProvider.provide(path, errorConverters);\n    });\n\n});\n","import { Component } from '@malagu/core';\nimport { ClientConfigProcessor } from './processor-protocol';\nimport { AxiosRequestConfig } from 'axios';\n\n@Component(ClientConfigProcessor)\nexport class NoOpClientConfigProcessor implements ClientConfigProcessor {\n\n    async process(config: AxiosRequestConfig): Promise<void> {\n\n    }\n\n}\n","export * from './processor-protocol';\nexport * from './client-config-processor';\n","import { AxiosRequestConfig } from 'axios';\n\nexport const ClientConfigProcessor = Symbol('ClientConfigProcessor');\n\nexport interface ClientConfigProcessor {\n    process(config: AxiosRequestConfig): Promise<void>;\n}\n","import { ConsoleLogger, Component, Autowired, Value } from '@malagu/core';\nimport { HttpHeaders, HttpMethod, MediaType, RestOperations, XML_HTTP_REQUEST } from '@malagu/web';\nimport { Logger } from 'vscode-jsonrpc';\nimport { ProxyCreator, ConnectionOptions, RequestTaskMeta } from './proxy-protocol';\nimport { EndpointResolver } from '../endpoint';\nimport { ConnnectionFactory, JsonRpcProxy, JsonRpcProxyFactory } from '../factory';\nimport { Channel, HttpChannel } from '../channal';\nimport { ErrorConverter } from '../converter';\nimport { ConnectionHandler } from '../handler';\nimport { AxiosRequestConfig } from 'axios';\nimport { ClientConfigProcessor } from '../processor';\n\n@Component(ProxyCreator)\nexport class HttpProxyCreator implements ProxyCreator {\n\n    protected channelIdSeq = 0;\n\n    @Autowired(ConnnectionFactory)\n    protected connnectionFactory: ConnnectionFactory<Channel>;\n\n    @Autowired(EndpointResolver)\n    protected endpointResolver: EndpointResolver;\n\n    @Autowired(RestOperations)\n    protected restOperations: RestOperations;\n\n    @Autowired(ClientConfigProcessor)\n    protected clientConfigProcessor: ClientConfigProcessor;\n\n    @Value('malagu.rpc.client.config')\n    protected readonly clientConfig: AxiosRequestConfig;\n\n    @Value('malagu.rpc.merge.maxCount')\n    protected readonly maxCount: number;\n\n    @Value('malagu.rpc.merge.maxLength')\n    protected readonly maxLength: number;\n\n    @Value('malagu.rpc.merge.timerDelay')\n    protected readonly timerDelay: number;\n\n    @Value('malagu.rpc.merge.enabled')\n    protected readonly enabled: boolean;\n\n    protected requestMap = new Map<string, RequestTaskMeta>();\n    protected channelMap = new Map<number, Channel>();\n\n    create<T extends object>(path: string, errorConverters?: ErrorConverter[], target?: object | undefined): JsonRpcProxy<T> {\n        const factory = new JsonRpcProxyFactory<T>(target, errorConverters);\n        this.endpointResolver.resolve(path).then(endpoint => this.listen({\n            path: endpoint,\n            onConnection: c => factory.listen(c)\n        }));\n        return factory.createProxy();\n    }\n\n    support(path: string): number {\n        return 500;\n    }\n\n    listen(handler: ConnectionHandler, options?: ConnectionOptions): void {\n        this.openChannel(handler.path, channel => {\n            const connection = this.connnectionFactory.create(channel, this.createLogger());\n            handler.onConnection(connection);\n        }, options);\n    }\n\n    openChannel(path: string, handler: (channel: Channel) => void, options?: ConnectionOptions): void {\n        this.doOpenChannel(path, handler, options);\n    }\n\n    protected doOpenChannel(path: string, handler: (channel: Channel) => void, options?: ConnectionOptions): void {\n        const id = this.channelIdSeq++;\n        const channel = this.createChannel(id, path);\n        handler(channel);\n    }\n\n    protected createChannel(id: number, path: string): Channel {\n        const parts = path.split('/');\n        const serviceName = parts.pop();\n        const endpoint = parts.join('/');\n        const channel = new HttpChannel(id, async content => {\n            if (this.enabled) {\n                if (this.canMerge(endpoint, content)) {\n                    this.pushContent(endpoint, content);\n                } else {\n                    this.executeTask(endpoint);\n                    this.pushContent(endpoint, content);\n                }\n            } else {\n                this.pushContent(endpoint, content);\n                this.executeTask(endpoint);\n            }\n\n        }, serviceName);\n        this.channelMap.set(id, channel);\n        return channel;\n    }\n\n    protected executeTask(endpoint: string) {\n        const meta = this.requestMap.get(endpoint);\n        if (meta) {\n            return meta.task();\n        }\n    }\n\n    protected canMerge(endpoint: string, content: string) {\n        const meta = this.requestMap.get(endpoint);\n        if (meta) {\n            if (meta.contentLength + content.length > this.maxLength ||\n                meta.contents.length + 1 > this.maxCount) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    protected pushContent(endpoint: string, content: string) {\n        let meta = this.requestMap.get(endpoint);\n        if (!meta) {\n            const task = this.createTask(endpoint);\n            meta = {\n                id: setTimeout(task, this.timerDelay),\n                contents: [],\n                contentLength: 0,\n                task\n            };\n            this.requestMap.set(endpoint, meta);\n        }\n        meta.contents.push(content);\n        meta.contentLength += content.length;\n        return meta;\n    }\n\n    protected createTask(endpoint: string) {\n        return async () => {\n            const meta = this.requestMap.get(endpoint);\n            if (!meta) {\n                return;\n            }\n            clearTimeout(meta.id);\n            const contents = meta.contents;\n            this.requestMap.delete(endpoint);\n            const config: AxiosRequestConfig = {\n                url: endpoint,\n                method: HttpMethod.POST,\n                data: contents.length > 1 ? JSON.stringify(contents) : contents[0],\n                headers: {\n                    [HttpHeaders.CONTENT_TYPE]: MediaType.APPLICATION_JSON_UTF8,\n                    [HttpHeaders.X_REQUESTED_WITH]: XML_HTTP_REQUEST\n                },\n                ...this.clientConfig\n            };\n            await this.clientConfigProcessor.process(config);\n            const { data } = await this.restOperations.request(config);\n            if (Array.isArray(data)) {\n                for (const message of data) {\n                    const parsed = JSON.parse(message);\n                    this.channelMap.get(parsed.id)!.handleMessage(parsed);\n                }\n            } else {\n                this.channelMap.get(data.id)!.handleMessage(data);\n            }\n        };\n    }\n\n    protected createLogger(): Logger {\n        return new ConsoleLogger();\n    }\n\n}\n","export * from './proxy-provider';\nexport * from './proxy-protocol';\nexport * from './http-proxy-creator';\n","import { ErrorConverter } from '../converter';\nimport { JsonRpcProxy } from '../factory';\n\nexport const ProxyProvider = Symbol('ProxyProvider');\n\nexport interface ProxyProvider {\n    provide<T extends object>(path: string, errorConverters?: ErrorConverter[], target?: object): JsonRpcProxy<T>;\n}\n\nexport const ProxyCreator = Symbol('ProxyCreator');\n\nexport interface ProxyCreator {\n    create<T extends object>(path: string, errorConverters?: ErrorConverter[], target?: object): JsonRpcProxy<T>;\n    support(path: string): number\n}\n\nexport interface ConnectionOptions {\n    reconnecting?: boolean;\n}\n\nexport interface RequestTaskMeta {\n    id: number;\n    contentLength: number;\n    contents: string[];\n    task: () => Promise<void>;\n}\n","import { Prioritizeable, Component, Autowired } from '@malagu/core';\nimport { ErrorConverter } from '../converter';\nimport { JsonRpcProxy } from '../factory';\nimport { ProxyProvider, ProxyCreator } from './proxy-protocol';\n\n@Component(ProxyProvider)\nexport class ProxyProviderImpl implements ProxyProvider {\n\n    constructor(\n        @Autowired(ProxyCreator)\n        protected readonly proxyCreators: ProxyCreator[]\n    ) { }\n\n    provide<T extends object>(path: string, errorConverters?: ErrorConverter[], target?: object): JsonRpcProxy<T>  {\n        return this.prioritize(path)[0].create(path, errorConverters, target);\n    }\n\n    protected prioritize(path: string): ProxyCreator[] {\n        const prioritized = Prioritizeable.prioritizeAllSync(this.proxyCreators, proxyCreator => {\n            try {\n                return proxyCreator.support(path);\n            } catch {\n                return 0;\n            }\n        });\n        return prioritized.map(p => p.value);\n    }\n\n}\n","export * from './rpc-util';\n","import { interfaces } from 'inversify';\nimport { ContainerUtil } from '@malagu/core';\nimport { ID_KEY, RPC } from '../annotation';\n\nexport namespace RpcUtil {\n    export function get<T>(rpcServiceIdentifier: interfaces.ServiceIdentifier<T>): T {\n        return ContainerUtil.getTagged(RPC, ID_KEY, rpcServiceIdentifier);\n    }\n\n    export function toPath(serviceIdentifier: any) {\n        return typeof serviceIdentifier !== 'function' ? serviceIdentifier.toString() : serviceIdentifier.name || serviceIdentifier.toString();\n\n    }\n\n    export function toName(serviceIdentifier: any) {\n        return typeof serviceIdentifier !== 'function' ? <symbol | string>serviceIdentifier : serviceIdentifier.name || serviceIdentifier.toString();\n\n    }\n}\n","import { Context, NotFoundError } from '@malagu/web/lib/node';\nimport { optional } from 'inversify';\nimport { ConnectionHandler, ConnnectionFactory, Channel } from '../../common';\nimport { Component, Autowired, ConsoleLogger, Deferred } from '@malagu/core';\nimport { CURRENT_CHANNEL_STRATEGY_REQUEST_KEY, ChannelStrategy } from './channel-protocol';\n\n// tslint:disable:no-any\n@Component()\nexport class ChannelManager {\n\n    protected _handlers = new Map<string, ConnectionHandler>();\n\n    constructor(\n        @Autowired(ConnectionHandler) @optional()\n        protected readonly handlers: ConnectionHandler[],\n        @Autowired(ConnnectionFactory) protected connnectionFactory: ConnnectionFactory<Channel>\n    ) {\n        for (const handler of handlers) {\n            this._handlers.set(handler.path, handler);\n        }\n    }\n\n    async handleChannels(): Promise<void> {\n        const channelStrategy: ChannelStrategy = Context.getAttr(CURRENT_CHANNEL_STRATEGY_REQUEST_KEY);\n        Context.getResponse().body = new Deferred<any>();\n        for (const message of await channelStrategy.getMessages()) {\n            const { id, path } = message as any;\n            if (path) {\n                const handler = this._handlers.get(this.getRealPath(path));\n                if (handler) {\n                    const channel = await channelStrategy.createChannel(id);\n                    handler.onConnection(this.connnectionFactory.create(channel, new ConsoleLogger()));\n                    channel.handleMessage(message);\n                }\n                continue;\n            }\n            throw new NotFoundError(`Cannot find a service for the path: ${path}`);\n        }\n    }\n\n    protected getRealPath(path: string): string {\n        return <string>path.split(':').pop();\n    }\n\n}\n","import { Middleware, Context } from '@malagu/web/lib/node';\nimport { Component, Autowired } from '@malagu/core';\nimport { ChannelStrategy, CHANNEL_MIDDLEWARE_PRIORITY, CURRENT_CHANNEL_STRATEGY_REQUEST_KEY } from './channel-protocol';\nimport { HttpHeaders, MediaType } from '@malagu/web';\n\n@Component(Middleware)\nexport class ChannelMiddleware implements Middleware {\n\n    @Autowired(ChannelStrategy)\n    protected readonly channelStrategies: ChannelStrategy[];\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n        for (const channelStrategy of this.channelStrategies) {\n            if (await channelStrategy.support()) {\n                Context.setAttr(CURRENT_CHANNEL_STRATEGY_REQUEST_KEY, channelStrategy);\n                break;\n            }\n        }\n\n        ctx.response.setHeader(HttpHeaders.CONTENT_TYPE, MediaType.APPLICATION_JSON_UTF8);\n\n        await next();\n    }\n\n    readonly priority = CHANNEL_MIDDLEWARE_PRIORITY;\n\n}\n","import { Channel } from '../../common';\n\nexport const ChannelStrategy = Symbol('ChannelStrategy');\n\nexport const CHANNEL_MIDDLEWARE_PRIORITY = 2100;\n\nexport const CURRENT_CHANNEL_STRATEGY_REQUEST_KEY = 'CurrentChannelStrategyRequest';\nexport const CURRENT_MESSAGE_COUNT_REQUEST_KEY = 'CurrentMessageCountRequest';\nexport const CURRENT_RESPONSE_MESSAGE_REQUEST_KEY = 'CurrentResponseMessageRequest';\n\nexport interface ChannelStrategy {\n\n    getMessages(): Promise<Channel.Message[]>;\n\n    handleMessage(message: any): Promise<void>;\n\n    createChannel(id: number): Promise<Channel>\n\n    support(): Promise<boolean>;\n\n}\n","import { Channel, HttpChannel } from '../../common/channal';\nimport { ChannelStrategy, CURRENT_MESSAGE_COUNT_REQUEST_KEY, CURRENT_RESPONSE_MESSAGE_REQUEST_KEY } from './channel-protocol';\nimport { Component } from '@malagu/core';\nimport { Context, HttpContext } from '@malagu/web/lib/node';\n\n@Component(ChannelStrategy)\nexport class HttpChannelStrategy implements ChannelStrategy {\n    async getMessages(): Promise<Channel.Message[]> {\n        let message = await Context.getRequest().body;\n        if (!Array.isArray(message)) {\n            message = [ message ];\n        } else {\n            const parsed: Channel.Message[] = [];\n            for (const m of message) {\n                parsed.push(JSON.parse(m));\n            }\n            message = parsed;\n        }\n        Context.setAttr(CURRENT_MESSAGE_COUNT_REQUEST_KEY, message.length);\n        return message;\n    }\n\n    async createChannel(id: number): Promise<Channel> {\n        return new HttpChannel(id, async content => {\n            this.handleMessage(content);\n        });\n    }\n\n    async handleMessage(message: string): Promise<void> {\n        if (!this.consumeMessage(message)) {\n            const deferred = Context.getResponse().body;\n            const messages = Context.getAttr<string[]>(CURRENT_RESPONSE_MESSAGE_REQUEST_KEY);\n            deferred.resolve(messages.length > 1 ? JSON.stringify(messages) : message);\n        }\n    }\n\n    protected consumeMessage(message: string) {\n        const messageCount = Context.getAttr<number>(CURRENT_MESSAGE_COUNT_REQUEST_KEY);\n        Context.setAttr(CURRENT_MESSAGE_COUNT_REQUEST_KEY, messageCount - 1);\n        let messages = Context.getAttr<string[]>(CURRENT_RESPONSE_MESSAGE_REQUEST_KEY);\n        if (!messages) {\n            messages = [];\n            Context.setAttr(CURRENT_RESPONSE_MESSAGE_REQUEST_KEY, messages);\n        }\n        messages.push(message);\n        if (messageCount - 1 <= 0) {\n            return false;\n        }\n        return true;\n    }\n\n    async support(): Promise<boolean> {\n        return Context.getCurrent() instanceof HttpContext;\n    }\n\n}\n","export * from './channel-manager';\nexport * from './channel-protocol';\nexport * from './channel-strategy';\nexport * from './channel-middleware';\n","import { Component, Autowired, Value } from '@malagu/core';\nimport { ChannelManager } from '../channel';\nimport { RPC_HANDLER_ADAPTER_PRIORITY } from './handler-protocol';\nimport { RequestMatcher, HandlerAdapter } from '@malagu/web/lib/node';\nimport { PathResolver } from '@malagu/web';\nimport { RPC_PATH } from '../../common';\n\nexport const PATH_PARMAS_ATTR = 'pathParams';\n\n@Component(HandlerAdapter)\nexport class RpcHandlerAdapter implements HandlerAdapter {\n    readonly priority = RPC_HANDLER_ADAPTER_PRIORITY;\n\n    @Autowired(ChannelManager)\n    protected readonly channelManager: ChannelManager;\n\n    @Autowired(RequestMatcher)\n    protected readonly requestMatcher: RequestMatcher;\n\n    @Autowired(PathResolver)\n    protected readonly pathResolver: PathResolver;\n\n    @Value(RPC_PATH)\n    protected readonly rpcPath: string;\n\n    handle(): Promise<void> {\n        return this.channelManager.handleChannels();\n    }\n\n    async canHandle(): Promise<boolean> {\n        return this.requestMatcher.match(await this.pathResolver.resolve(this.rpcPath));\n    }\n\n}\n","export const RPC_HANDLER_ADAPTER_PRIORITY = 1000;\n","export * from './handler-adapter';\nexport * from './handler-protocol';\n","export * from './channel';\nexport * from './handler';\n","import { autoBind } from '@malagu/core';\nimport '.';\n\nexport default autoBind();\n","import { AxiosInstance } from 'axios';\n\nexport const RestOperations = Symbol('RestOperations');\nexport const RestOperationsFactory = Symbol('RestOperationsFactory');\n\nexport interface RestOperations extends AxiosInstance {\n\n}\n\nexport interface RestOperationsFactory {\n    create(): RestOperations;\n}\n","export * from './client-protocol';\nexport * from './rest-operations-factory';\n","import { RestOperationsFactory, RestOperations } from './client-protocol';\nimport axios, { AxiosRequestConfig } from 'axios';\nimport { Component, Value } from '@malagu/core';\n\n@Component(RestOperationsFactory)\nexport class DefaultRestOperationsFactory implements RestOperationsFactory {\n\n    @Value('malagu.client.config')\n    protected readonly clientConfig: AxiosRequestConfig;\n\n    create(): RestOperations {\n        return axios.create(this.clientConfig);\n    }\n\n}\n","\nexport const ENDPOINT = 'malagu.server.endpoint';\nexport const SERVER_PATH = 'malagu.server.path';\nexport const CORS = 'malagu.web.cors';\nexport const AOP_POINTCUT = 'Endpoint';\n","export class HttpHeaders {\n    /**\n     * The HTTP {@code Accept} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-5.3.2\">Section 5.3.2 of RFC 7231</a>\n     */\n    public static ACCEPT = 'Accept';\n    /**\n     * The HTTP {@code Accept-Charset} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-5.3.3\">Section 5.3.3 of RFC 7231</a>\n     */\n    public static ACCEPT_CHARSET = 'Accept-Charset';\n    /**\n     * The HTTP {@code Accept-Encoding} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-5.3.4\">Section 5.3.4 of RFC 7231</a>\n     */\n    public static ACCEPT_ENCODING = 'Accept-Encoding';\n    /**\n     * The HTTP {@code Accept-Language} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-5.3.5\">Section 5.3.5 of RFC 7231</a>\n     */\n    public static ACCEPT_LANGUAGE = 'Accept-Language';\n    /**\n     * The HTTP {@code Accept-Ranges} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7233#section-2.3\">Section 5.3.5 of RFC 7233</a>\n     */\n    public static ACCEPT_RANGES = 'Accept-Ranges';\n    /**\n     * The CORS {@code Access-Control-Allow-Credentials} response header field name.\n     * @see <a href=\"http://www.w3.org/TR/cors/\">CORS W3C recommendation</a>\n     */\n    public static ACCESS_CONTROL_ALLOW_CREDENTIALS = 'Access-Control-Allow-Credentials';\n    /**\n     * The CORS {@code Access-Control-Allow-Headers} response header field name.\n     * @see <a href=\"http://www.w3.org/TR/cors/\">CORS W3C recommendation</a>\n     */\n    public static ACCESS_CONTROL_ALLOW_HEADERS = 'Access-Control-Allow-Headers';\n    /**\n     * The CORS {@code Access-Control-Allow-Methods} response header field name.\n     * @see <a href=\"http://www.w3.org/TR/cors/\">CORS W3C recommendation</a>\n     */\n    public static ACCESS_CONTROL_ALLOW_METHODS = 'Access-Control-Allow-Methods';\n    /**\n     * The CORS {@code Access-Control-Allow-Origin} response header field name.\n     * @see <a href=\"http://www.w3.org/TR/cors/\">CORS W3C recommendation</a>\n     */\n    public static ACCESS_CONTROL_ALLOW_ORIGIN = 'Access-Control-Allow-Origin';\n    /**\n     * The CORS {@code Access-Control-Expose-Headers} response header field name.\n     * @see <a href=\"http://www.w3.org/TR/cors/\">CORS W3C recommendation</a>\n     */\n    public static ACCESS_CONTROL_EXPOSE_HEADERS = 'Access-Control-Expose-Headers';\n    /**\n     * The CORS {@code Access-Control-Max-Age} response header field name.\n     * @see <a href=\"http://www.w3.org/TR/cors/\">CORS W3C recommendation</a>\n     */\n    public static ACCESS_CONTROL_MAX_AGE = 'Access-Control-Max-Age';\n    /**\n     * The CORS {@code Access-Control-Request-Headers} request header field name.\n     * @see <a href=\"http://www.w3.org/TR/cors/\">CORS W3C recommendation</a>\n     */\n    public static ACCESS_CONTROL_REQUEST_HEADERS = 'Access-Control-Request-Headers';\n    /**\n     * The CORS {@code Access-Control-Request-Method} request header field name.\n     * @see <a href=\"http://www.w3.org/TR/cors/\">CORS W3C recommendation</a>\n     */\n    public static ACCESS_CONTROL_REQUEST_METHOD = 'Access-Control-Request-Method';\n    /**\n     * The HTTP {@code Age} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7234#section-5.1\">Section 5.1 of RFC 7234</a>\n     */\n    public static AGE = 'Age';\n    /**\n     * The HTTP {@code Allow} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-7.4.1\">Section 7.4.1 of RFC 7231</a>\n     */\n    public static ALLOW = 'Allow';\n    /**\n     * The HTTP {@code Authorization} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7235#section-4.2\">Section 4.2 of RFC 7235</a>\n     */\n    public static AUTHORIZATION = 'Authorization';\n    /**\n     * The HTTP {@code Cache-Control} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7234#section-5.2\">Section 5.2 of RFC 7234</a>\n     */\n    public static CACHE_CONTROL = 'Cache-Control';\n    /**\n     * The HTTP {@code Connection} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7230#section-6.1\">Section 6.1 of RFC 7230</a>\n     */\n    public static CONNECTION = 'Connection';\n    /**\n     * The HTTP {@code Content-Encoding} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.2.2\">Section 3.1.2.2 of RFC 7231</a>\n     */\n    public static CONTENT_ENCODING = 'Content-Encoding';\n    /**\n     * The HTTP {@code Content-Disposition} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc6266\">RFC 6266</a>\n     */\n    public static CONTENT_DISPOSITION = 'Content-Disposition';\n    /**\n     * The HTTP {@code Content-Language} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.3.2\">Section 3.1.3.2 of RFC 7231</a>\n     */\n    public static CONTENT_LANGUAGE = 'Content-Language';\n    /**\n     * The HTTP {@code Content-Length} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7230#section-3.3.2\">Section 3.3.2 of RFC 7230</a>\n     */\n    public static CONTENT_LENGTH = 'Content-Length';\n    /**\n     * The HTTP {@code Content-Location} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.4.2\">Section 3.1.4.2 of RFC 7231</a>\n     */\n    public static CONTENT_LOCATION = 'Content-Location';\n    /**\n     * The HTTP {@code Content-Range} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7233#section-4.2\">Section 4.2 of RFC 7233</a>\n     */\n    public static CONTENT_RANGE = 'Content-Range';\n    /**\n     * The HTTP {@code Content-Type} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-3.1.1.5\">Section 3.1.1.5 of RFC 7231</a>\n     */\n    public static CONTENT_TYPE = 'Content-Type';\n    /**\n     * The HTTP {@code Cookie} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc2109#section-4.3.4\">Section 4.3.4 of RFC 2109</a>\n     */\n    public static COOKIE = 'Cookie';\n    /**\n     * The HTTP {@code Date} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-7.1.1.2\">Section 7.1.1.2 of RFC 7231</a>\n     */\n    public static DATE = 'Date';\n    /**\n     * The HTTP {@code ETag} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7232#section-2.3\">Section 2.3 of RFC 7232</a>\n     */\n    public static ETAG = 'ETag';\n    /**\n     * The HTTP {@code Expect} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-5.1.1\">Section 5.1.1 of RFC 7231</a>\n     */\n    public static EXPECT = 'Expect';\n    /**\n     * The HTTP {@code Expires} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7234#section-5.3\">Section 5.3 of RFC 7234</a>\n     */\n    public static EXPIRES = 'Expires';\n    /**\n     * The HTTP {@code From} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-5.5.1\">Section 5.5.1 of RFC 7231</a>\n     */\n    public static FROM = 'From';\n    /**\n     * The HTTP {@code Host} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7230#section-5.4\">Section 5.4 of RFC 7230</a>\n     */\n    public static HOST = 'Host';\n    /**\n     * The HTTP {@code If-Match} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7232#section-3.1\">Section 3.1 of RFC 7232</a>\n     */\n    public static IF_MATCH = 'If-Match';\n    /**\n     * The HTTP {@code If-Modified-Since} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7232#section-3.3\">Section 3.3 of RFC 7232</a>\n     */\n    public static IF_MODIFIED_SINCE = 'If-Modified-Since';\n    /**\n     * The HTTP {@code If-None-Match} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7232#section-3.2\">Section 3.2 of RFC 7232</a>\n     */\n    public static IF_NONE_MATCH = 'If-None-Match';\n    /**\n     * The HTTP {@code If-Range} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7233#section-3.2\">Section 3.2 of RFC 7233</a>\n     */\n    public static IF_RANGE = 'If-Range';\n    /**\n     * The HTTP {@code If-Unmodified-Since} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7232#section-3.4\">Section 3.4 of RFC 7232</a>\n     */\n    public static IF_UNMODIFIED_SINCE = 'If-Unmodified-Since';\n    /**\n     * The HTTP {@code Last-Modified} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7232#section-2.2\">Section 2.2 of RFC 7232</a>\n     */\n    public static LAST_MODIFIED = 'Last-Modified';\n    /**\n     * The HTTP {@code Link} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc5988\">RFC 5988</a>\n     */\n    public static LINK = 'Link';\n    /**\n     * The HTTP {@code Location} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-7.1.2\">Section 7.1.2 of RFC 7231</a>\n     */\n    public static LOCATION = 'Location';\n    /**\n     * The HTTP {@code Max-Forwards} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-5.1.2\">Section 5.1.2 of RFC 7231</a>\n     */\n    public static MAX_FORWARDS = 'Max-Forwards';\n    /**\n     * The HTTP {@code Origin} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc6454\">RFC 6454</a>\n     */\n    public static ORIGIN = 'Origin';\n    /**\n     * The HTTP {@code Pragma} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7234#section-5.4\">Section 5.4 of RFC 7234</a>\n     */\n    public static PRAGMA = 'Pragma';\n    /**\n     * The HTTP {@code Proxy-Authenticate} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7235#section-4.3\">Section 4.3 of RFC 7235</a>\n     */\n    public static PROXY_AUTHENTICATE = 'Proxy-Authenticate';\n    /**\n     * The HTTP {@code Proxy-Authorization} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7235#section-4.4\">Section 4.4 of RFC 7235</a>\n     */\n    public static PROXY_AUTHORIZATION = 'Proxy-Authorization';\n    /**\n     * The HTTP {@code Range} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7233#section-3.1\">Section 3.1 of RFC 7233</a>\n     */\n    public static RANGE = 'Range';\n    /**\n     * The HTTP {@code Referer} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-5.5.2\">Section 5.5.2 of RFC 7231</a>\n     */\n    public static REFERER = 'Referer';\n    /**\n     * The HTTP {@code Retry-After} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-7.1.3\">Section 7.1.3 of RFC 7231</a>\n     */\n    public static RETRY_AFTER = 'Retry-After';\n    /**\n     * The HTTP {@code Server} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-7.4.2\">Section 7.4.2 of RFC 7231</a>\n     */\n    public static SERVER = 'Server';\n    /**\n     * The HTTP {@code Set-Cookie} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc2109#section-4.2.2\">Section 4.2.2 of RFC 2109</a>\n     */\n    public static SET_COOKIE = 'Set-Cookie';\n    /**\n     * The HTTP {@code Set-Cookie2} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc2965\">RFC 2965</a>\n     */\n    public static SET_COOKIE2 = 'Set-Cookie2';\n    /**\n     * The HTTP {@code TE} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7230#section-4.3\">Section 4.3 of RFC 7230</a>\n     */\n    public static TE = 'TE';\n    /**\n     * The HTTP {@code Trailer} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7230#section-4.4\">Section 4.4 of RFC 7230</a>\n     */\n    public static TRAILER = 'Trailer';\n    /**\n     * The HTTP {@code Transfer-Encoding} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7230#section-3.3.1\">Section 3.3.1 of RFC 7230</a>\n     */\n    public static TRANSFER_ENCODING = 'Transfer-Encoding';\n    /**\n     * The HTTP {@code Upgrade} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7230#section-6.7\">Section 6.7 of RFC 7230</a>\n     */\n    public static UPGRADE = 'Upgrade';\n    /**\n     * The HTTP {@code User-Agent} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-5.5.3\">Section 5.5.3 of RFC 7231</a>\n     */\n    public static USER_AGENT = 'User-Agent';\n    /**\n     * The HTTP {@code Vary} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7231#section-7.1.4\">Section 7.1.4 of RFC 7231</a>\n     */\n    public static VARY = 'Vary';\n    /**\n     * The HTTP {@code Via} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7230#section-5.7.1\">Section 5.7.1 of RFC 7230</a>\n     */\n    public static VIA = 'Via';\n    /**\n     * The HTTP {@code Warning} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7234#section-5.5\">Section 5.5 of RFC 7234</a>\n     */\n    public static WARNING = 'Warning';\n    /**\n     * The HTTP {@code WWW-Authenticate} header field name.\n     * @see <a href=\"https://tools.ietf.org/html/rfc7235#section-4.1\">Section 4.1 of RFC 7235</a>\n     */\n    public static WWW_AUTHENTICATE = 'WWW-Authenticate';\n\n    public static X_REQUESTED_WITH = 'X-Requested-With';\n}\n","export enum HttpStatus {\n    CONTINUE = 100,\n    SWITCHING_PROTOCOLS = 101,\n    PROCESSING = 102,\n    OK = 200,\n    CREATED = 201,\n    ACCEPTED = 202,\n    NON_AUTHORITATIVE_INFORMATION = 203,\n    NO_CONTENT = 204,\n    RESET_CONTENT = 205,\n    PARTIAL_CONTENT = 206,\n    AMBIGUOUS = 300,\n    MOVED_PERMANENTLY = 301,\n    FOUND = 302,\n    SEE_OTHER = 303,\n    NOT_MODIFIED = 304,\n    TEMPORARY_REDIRECT = 307,\n    PERMANENT_REDIRECT = 308,\n    BAD_REQUEST = 400,\n    UNAUTHORIZED = 401,\n    PAYMENT_REQUIRED = 402,\n    FORBIDDEN = 403,\n    NOT_FOUND = 404,\n    METHOD_NOT_ALLOWED = 405,\n    NOT_ACCEPTABLE = 406,\n    PROXY_AUTHENTICATION_REQUIRED = 407,\n    REQUEST_TIMEOUT = 408,\n    CONFLICT = 409,\n    GONE = 410,\n    LENGTH_REQUIRED = 411,\n    PRECONDITION_FAILED = 412,\n    PAYLOAD_TOO_LARGE = 413,\n    URI_TOO_LONG = 414,\n    UNSUPPORTED_MEDIA_TYPE = 415,\n    REQUESTED_RANGE_NOT_SATISFIABLE = 416,\n    EXPECTATION_FAILED = 417,\n    I_AM_A_TEAPOT = 418,\n    UNPROCESSABLE_ENTITY = 422,\n    FAILED_DEPENDENCY = 424,\n    TOO_MANY_REQUESTS = 429,\n    INTERNAL_SERVER_ERROR = 500,\n    NOT_IMPLEMENTED = 501,\n    BAD_GATEWAY = 502,\n    SERVICE_UNAVAILABLE = 503,\n    GATEWAY_TIMEOUT = 504,\n    HTTP_VERSION_NOT_SUPPORTED = 505,\n    VARIANT_ALSO_NEGOTIATES = 506,\n    INSUFFICIENT_STORAGE = 507,\n    LOOP_DETECTED = 508,\n    BANDWIDTH_LIMIT_EXCEEDED = 509,\n    NOT_EXTENDED = 510,\n    NETWORK_AUTHENTICATION_REQUIRED = 511,\n\n    CONTINUE_REASON_PHRASE = 'Continue',\n    SWITCHING_PROTOCOLS_REASON_PHRASE = 'Switching Protocols',\n    PROCESSING_REASON_PHRASE = 'Processing',\n    CHECKPOINT_REASON_PHRASE = 'Checkpoint',\n\n    // 2xx Success\n    OK_REASON_PHRASE = 'OK',\n    CREATED_REASON_PHRASE = 'Created',\n    ACCEPTED_REASON_PHRASE = 'Accepted',\n    NON_AUTHORITATIVE_INFORMATION_REASON_PHRASE = 'Non-Authoritative Information',\n    NO_CONTENT_REASON_PHRASE = 'No Content',\n    RESET_CONTENT_REASON_PHRASE = 'Reset Content',\n    PARTIAL_CONTENT_REASON_PHRASE = 'Partial Content',\n    MULTI_STATUS_REASON_PHRASE = 'Multi-Status',\n    ALREADY_REPORTED_REASON_PHRASE = 'Already Reported',\n    IM_USED_REASON_PHRASE = 'IM Used',\n\n    // 3xx Redirection\n    MULTIPLE_CHOICES_REASON_PHRASE = 'Multiple Choices',\n    MOVED_PERMANENTLY_REASON_PHRASE = 'Moved Permanently',\n    FOUND_REASON_PHRASE = 'Found',\n    MOVED_TEMPORARILY_REASON_PHRASE = 'Moved Temporarily',\n    SEE_OTHER_REASON_PHRASE = 'See Other',\n    NOT_MODIFIED_REASON_PHRASE = 'Not Modified',\n    USE_PROXY_REASON_PHRASE = 'Use Proxy',\n    TEMPORARY_REDIRECT_REASON_PHRASE = 'Temporary Redirect',\n    PERMANENT_REDIRECT_REASON_PHRASE = 'Permanent Redirect',\n\n    // --- 4xx Client Error ---\n    BAD_REQUEST_REASON_PHRASE = 'Bad Request',\n    UNAUTHORIZED_REASON_PHRASE = 'Unauthorized',\n    PAYMENT_REQUIRED_REASON_PHRASE = 'Payment Required',\n    FORBIDDEN_REASON_PHRASE = 'Forbidden',\n    NOT_FOUND_REASON_PHRASE = 'Not Found',\n    METHOD_NOT_ALLOWED_REASON_PHRASE = 'Method Not Allowed',\n    NOT_ACCEPTABLE_REASON_PHRASE = 'Not Acceptable',\n    PROXY_AUTHENTICATION_REQUIRED_REASON_PHRASE = 'Proxy Authentication Required',\n    REQUEST_TIMEOUT_REASON_PHRASE = 'Request Timeout',\n    CONFLICT_REASON_PHRASE = 'Conflict',\n    GONE_REASON_PHRASE = 'Gone',\n    LENGTH_REQUIRED_REASON_PHRASE = 'Length Required',\n    PRECONDITION_FAILED_REASON_PHRASE = 'Precondition Failed',\n    PAYLOAD_TOO_LARGE_REASON_PHRASE = 'Payload Too Large',\n    REQUEST_ENTITY_TOO_LARGE_REASON_PHRASE = 'Request Entity Too Large',\n    URI_TOO_LONG_REASON_PHRASE = 'URI Too Long',\n    REQUEST_URI_TOO_LONG_REASON_PHRASE = 'Request-URI Too Long',\n    UNSUPPORTED_MEDIA_TYPE_REASON_PHRASE = 'Unsupported Media Type',\n    REQUESTED_RANGE_NOT_SATISFIABLE_REASON_PHRASE = 'Requested range not satisfiable',\n    EXPECTATION_FAILED_REASON_PHRASE = 'Expectation Failed',\n    I_AM_A_TEAPOT_REASON_PHRASE = 'I\\'m a teapot',\n    INSUFFICIENT_SPACE_ON_RESOURCE_REASON_PHRASE = 'Insufficient Space On Resource',\n    METHOD_FAILURE_REASON_PHRASE = 'Method Failure',\n    DESTINATION_LOCKED_REASON_PHRASE = 'Destination Locked',\n    UNPROCESSABLE_ENTITY_REASON_PHRASE = 'Unprocessable Entity',\n    LOCKED_REASON_PHRASE = 'Locked',\n    FAILED_DEPENDENCY_REASON_PHRASE = 'Failed Dependency',\n    UPGRADE_REQUIRED_REASON_PHRASE = 'Upgrade Required',\n    PRECONDITION_REQUIRED_REASON_PHRASE = 'Precondition Required',\n    TOO_MANY_REQUESTS_REASON_PHRASE = 'Too Many Requests',\n    REQUEST_HEADER_FIELDS_TOO_LARGE_REASON_PHRASE = 'Request Header Fields Too Large',\n    UNAVAILABLE_FOR_LEGAL_REASONS_REASON_PHRASE = 'Unavailable For Legal Reasons',\n\n    // --- 5xx Server Error ---\n    INTERNAL_SERVER_ERROR_REASON_PHRASE = 'Internal Server Error',\n    NOT_IMPLEMENTED_REASON_PHRASE = 'Not Implemented',\n    BAD_GATEWAY_REASON_PHRASE = 'Bad Gateway',\n    SERVICE_UNAVAILABLE_REASON_PHRASE = 'Service Unavailable',\n    GATEWAY_TIMEOUT_REASON_PHRASE = 'Gateway Timeout',\n    HTTP_VERSION_NOT_SUPPORTED_REASON_PHRASE = 'HTTP Version not supported',\n    VARIANT_ALSO_NEGOTIATES_REASON_PHRASE = 'Variant Also Negotiates',\n    INSUFFICIENT_STORAGE_REASON_PHRASE = 'Insufficient Storage',\n    LOOP_DETECTED_REASON_PHRASE = 'Loop Detected',\n    BANDWIDTH_LIMIT_EXCEEDED_REASON_PHRASE = 'Bandwidth Limit Exceeded',\n    NOT_EXTENDED_REASON_PHRASE = 'Not Extended',\n}\n\nexport enum MediaType {\n\n    ALL = '*/*',\n    APPLICATION_ATOM_XML = 'application/atom+xml',\n    APPLICATION_FORM_URLENCODED = 'application/x-www-form-urlencoded',\n    APPLICATION_JSON = 'application/json',\n    APPLICATION_JSON_UTF8 = 'application/json;charset=UTF-8',\n    APPLICATION_OCTET_STREAM = 'application/octet-stream',\n    APPLICATION_PDF = 'application/pdf',\n    APPLICATION_PROBLEM_JSON = 'application/problem+json',\n    APPLICATION_PROBLEM_JSON_UTF8 = 'application/problem+json;charset=UTF-8',\n    APPLICATION_PROBLEM_XML = 'application/problem+xml',\n    APPLICATION_RSS_XML = 'application/rss+xml',\n    APPLICATION_STREAM_JSON = 'application/stream+json',\n    APPLICATION_XHTML_XML = 'application/xhtml+xml',\n    APPLICATION_XML = 'application/xml',\n    IMAGE_GIF = 'image/gif',\n    IMAGE_JPEG = 'image/jpeg',\n    IMAGE_PNG = 'image/png',\n    MULTIPART_FORM_DATA = 'multipart/form-data',\n    TEXT_EVENT_STREAM = 'text/event-stream',\n    TEXT_HTML = 'text/html',\n    TEXT_MARKDOWN = 'text/markdown',\n    TEXT_PLAIN = 'text/plain',\n    TEXT_XML = 'text/xml'\n}\n\nexport enum HttpMethod {\n\n    GET = 'GET',\n    HEAD = 'HEAD',\n    POST = 'POST',\n    PUT = 'PUT',\n    PATCH = 'PATCH',\n    DELETE = 'DELETE',\n    OPTIONS = 'OPTIONS',\n    TRACE = 'TRACE'\n}\n\nexport const XML_HTTP_REQUEST = 'XMLHttpRequest';\n","export * from './http-protocol';\nexport * from './http-headers';\n","export * from './resolver';\nexport * from './constants';\nexport * from './utils';\nexport * from './http';\nexport * from './client';\n","import { autoBind } from '@malagu/core';\nimport { RestOperations, RestOperationsFactory } from './client';\nimport './resolver';\n\nexport default autoBind(bind => {\n    bind(RestOperations).toDynamicValue(ctx => {\n        const factory = ctx.container.get<RestOperationsFactory>(RestOperationsFactory);\n        return factory.create();\n    }).inSingletonScope();\n\n});\n","export * from './resolver-protocol';\nexport * from './path-resolver';\n","import { PathResolver } from './resolver-protocol';\nimport { Value, Component } from '@malagu/core';\nimport urlJoin = require('url-join');\nimport { SERVER_PATH } from '../constants';\nimport { UrlUtil } from '../utils';\n\n@Component(PathResolver)\nexport class PathResolverImpl implements PathResolver {\n\n    @Value(SERVER_PATH)\n    protected readonly serverPath: string;\n\n    async resolve(...parts: string[]): Promise<string> {\n        const [ first, ...rest ] = parts.filter(v => !!v);\n        if (!first) {\n            return this.serverPath;\n        } else if (UrlUtil.isAbsoluteUrl(first)) {\n            return urlJoin(first, ...rest);\n        } else if (first.startsWith(this.serverPath)) {\n            return urlJoin([ first, ...rest ]);\n        }\n        return urlJoin(this.serverPath, ...[ first, ...rest ]);\n    }\n}\n","export const PathResolver = Symbol('PathResolver');\n\nexport interface PathResolver {\n    resolve(...parts: string[]): Promise<string>;\n}\n","export * from './url-util';\n","export namespace UrlUtil {\n\n    export function isValidRedirectUrl(url?: string) {\n        return url && (url.startsWith('/') || isAbsoluteUrl(url));\n    }\n\n    /**\n     * Decides if a URL is absolute based on whether it contains a valid scheme name, as\n     * defined in RFC 1738.\n     */\n    export function isAbsoluteUrl(url?: string) {\n        if (!url) {\n            return false;\n        }\n        return /^[a-z0-9.+-]+:\\/\\/.*/i.test(url);\n    }\n}\n","export * from '@malagu/core/lib/common/container/dynamic-container';\nexport * from '@malagu/core/lib/common/container/container-provider';\nexport * from '../context';\nexport * from '../dispatcher';\nexport * from '@malagu/core/lib/common/application';\n","import * as requestContext from 'express-http-context';\nimport { Session } from './session/session-protocol';\nimport { Cookies } from './cookies';\nimport { Request, Response } from './http/http-protocol';\n\n// eslint-disable-next-line no-shadow\nexport enum AttributeScope { App, Request, Session }\n\nexport const CURRENT_CONTEXT_REQUEST_KEY = 'CurrentContextRequest';\nexport const CURRENT_COOKIES_REQUEST_KEY = 'CurrentCookiesRequest';\nexport const CURRENT_SESSION_REQUEST_KEY = 'CurrentSessionRequest';\nexport const CURRENT_TRACE_ID_REQUEST_KEY = 'CurrentTraceIdRequest';\nexport const CURRENT_SKIP_AUTO_END_REQUEST_KEY = 'CurrentSkipAutoEndRequest';\n\nconst appAttrs = new Map<string, any>();\n\nexport interface Context {\n\n    [key: string]: any;\n\n    readonly request: Request;\n\n    readonly response: Response;\n\n}\n\nexport namespace Context {\n\n    export function run(fn: (...args: any[]) => void) {\n        requestContext.ns.run(fn);\n    }\n\n    export function setCurrent(context: Context) {\n        requestContext.set(CURRENT_CONTEXT_REQUEST_KEY, context);\n    }\n\n    export function getCurrent<T extends Context>(): T {\n        return requestContext.get(CURRENT_CONTEXT_REQUEST_KEY);\n    }\n\n    export function getRequest(): Request {\n        return getCurrent().request;\n    }\n\n    export function getResponse(): Response {\n        return getCurrent().response;\n    }\n\n    export function getCookies(): Cookies {\n        return requestContext.get(CURRENT_COOKIES_REQUEST_KEY);\n    }\n\n    export function setCookies(cookies: Cookies): void {\n        requestContext.set(CURRENT_COOKIES_REQUEST_KEY, cookies);\n    }\n\n    export function getSession(): Session {\n        return requestContext.get(CURRENT_SESSION_REQUEST_KEY);\n    }\n\n    export function setSession(session: Session): void {\n        requestContext.set(CURRENT_SESSION_REQUEST_KEY, session);\n    }\n\n    export function setTraceId(traceId: string): void {\n        requestContext.set(CURRENT_TRACE_ID_REQUEST_KEY, traceId);\n    }\n\n    export function getTraceId(): string {\n        return requestContext.get(CURRENT_TRACE_ID_REQUEST_KEY);\n    }\n\n    export function setSkipAutoEnd(skipAutoEnd: boolean): void {\n        requestContext.set(CURRENT_SKIP_AUTO_END_REQUEST_KEY, skipAutoEnd);\n    }\n\n    export function isSkipAutoEnd(): boolean {\n        return !!requestContext.get(CURRENT_SKIP_AUTO_END_REQUEST_KEY);\n    }\n\n    export function setAttr(key: string, value: any, scope: AttributeScope = AttributeScope.Request) {\n        if (scope === AttributeScope.Request) {\n            requestContext.set(key, value);\n        } else if (scope === AttributeScope.Session) {\n            getSession()[key] = value;\n        } else {\n            appAttrs.set(key, value);\n        }\n    }\n\n    export function getAttr<T>(key: string, scope?: AttributeScope): T {\n        if (scope) {\n            if (scope === AttributeScope.Request) {\n                return requestContext.get(key);\n            } else if (scope === AttributeScope.Session) {\n                return getSession()[key];\n            } else {\n                return appAttrs.get(key);\n            }\n        } else {\n            let value = requestContext.get(key);\n            value = value ? value : getSession()[key];\n            return value ? value : appAttrs.get(key);\n        }\n    }\n\n}\n\nexport class HttpContext implements Context {\n    [key: string]: any;\n\n    constructor(public request: Request, public response: Response) {\n    }\n}\n","import { Context } from '../context';\nimport { Component, Value } from '@malagu/core';\nimport * as _Cookies from 'cookies';\nimport { Cookies } from './cookies-protocol';\n\n@Component()\nexport class CookiesFactory {\n\n    @Value('malagu.cookies.keys')\n    protected keys?: string[];\n\n    @Value('malagu.cookies.secure')\n    protected secure?: boolean;\n\n    async create(): Promise<Cookies> {\n        const cookies = new _Cookies(Context.getRequest() as any, Context.getResponse() as any, {\n            keys: this.keys,\n            secure: this.secure\n        });\n        return <Cookies>cookies;\n    }\n}\n","import { Middleware } from '../middleware';\nimport { Context } from '../context';\nimport { Component, Autowired } from '@malagu/core';\nimport * as _Cookies from 'cookies';\nimport { CookiesFactory } from './cookies-factory';\nimport { COOKIES_MIDDLEWARE_PRIORITY } from './cookies-protocol';\n\n@Component(Middleware)\nexport class CookiesMiddleware implements Middleware {\n\n    @Autowired(CookiesFactory)\n    protected readonly cookiesFactory: CookiesFactory;\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n        if (ctx.request) {\n            Context.setCookies(await this.cookiesFactory.create());\n        }\n        await next();\n    }\n\n    readonly priority = COOKIES_MIDDLEWARE_PRIORITY;\n\n}\n","import { HTTP_MIDDLEWARE_PRIORITY } from '../http';\n\nexport const COOKIES_MIDDLEWARE_PRIORITY = HTTP_MIDDLEWARE_PRIORITY - 100;\n\nexport const Cookies = Symbol('Cookies');\n\nexport interface Cookies {\n    get(name: string, opt?: any): string | undefined;\n    set(name: string, vaule: string, opt?: any): void;\n}\n","export * from './cookies-protocol';\nexport * from './cookies-middleware';\nexport * from './cookies-factory';\n","import { Middleware } from '../middleware';\nimport { Context } from '../context';\nimport { Component, Value } from '@malagu/core';\nimport * as cors from 'cors';\nimport { CORS, ENDPOINT, HttpHeaders } from '../../common';\nimport { CORS_MIDDLEWARE_PRIORITY } from './cors-protocol';\n\n@Component([CorsMiddleware, Middleware])\nexport class CorsMiddleware implements Middleware {\n\n    @Value(CORS)\n    protected readonly options: any;\n\n    @Value(ENDPOINT)\n    protected readonly endpoint?: string;\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n        return new Promise((resolve, reject) => cors(this.options)(ctx.request as any, ctx.response as any, (err: any) => {\n            if (err) {\n                reject(err);\n            } else {\n                if (this.endpoint && !ctx.response.getHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN)) {\n                    ctx.response.setHeader(HttpHeaders.ACCESS_CONTROL_ALLOW_ORIGIN, this.endpoint);\n                }\n                next().then(resolve).catch(reject);\n            }\n        }));\n    }\n\n    readonly priority = CORS_MIDDLEWARE_PRIORITY;\n\n}\n","import { TRACE_MIDDLEWARE_PRIORITY } from '../trace';\nexport const CORS_MIDDLEWARE_PRIORITY = TRACE_MIDDLEWARE_PRIORITY - 100;\n","export * from './cors-protocol';\nexport * from './cors-middleware';\n","import { Context } from '../context';\n\nexport const Dispatcher = Symbol('Dispatcher');\n\nexport interface Dispatcher<T extends Context> {\n    dispatch(ctx: T): Promise<void>;\n}\n","import { Context } from '../context';\nimport { MiddlewareProvider } from '../middleware';\nimport { ErrorHandlerProvider } from '../error/error-hander-provider';\nimport { Dispatcher } from './dispatcher-protocol';\nimport { Component, Autowired, Logger } from '@malagu/core';\nimport { HandlerExecutionChain } from '../handler/handler-protocol';\n\n@Component(Dispatcher)\nexport class DispatcherImpl implements Dispatcher<Context> {\n\n    @Autowired(HandlerExecutionChain)\n    protected handlerExecutionChain: HandlerExecutionChain;\n\n    @Autowired(MiddlewareProvider)\n    protected middlewareProvider: MiddlewareProvider;\n\n    @Autowired(ErrorHandlerProvider)\n    protected errorHandlerProvider: ErrorHandlerProvider;\n\n    @Autowired(Logger)\n    protected readonly logger: Logger;\n\n    async dispatch(ctx: Context): Promise<void> {\n        try {\n            Context.setCurrent(ctx);\n            const middlewares = this.middlewareProvider.provide();\n            await this.handlerExecutionChain.execute(middlewares);\n        } catch (err) {\n            this.logger.error(err);\n            await this.handleError(ctx, err);\n        }\n    }\n\n    protected async handleError(ctx: Context, err: Error): Promise<void> {\n        const errorHandlers = this.errorHandlerProvider.provide();\n        for (const handler of errorHandlers) {\n            if (await handler.canHandle(ctx, err)) {\n                try {\n                    await handler.handle(ctx, err);\n                } catch (error) {\n                    this.logger.error(error);\n                    continue;\n                }\n                return;\n            }\n        }\n    }\n}\n","export * from './dispatcher';\nexport * from './dispatcher-protocol';\n","import { Context } from '../context';\nimport { Component, Autowired, Prioritizeable, ValidationErrors } from '@malagu/core';\nimport { injectable } from 'inversify';\nimport { ErrorHandler, DEFALUT_ERROR_HANDlER_PRIORITY, HTTP_ERROR_HANDlER_PRIORITY, VALIDATION_ERRORS_ERROR_HANDlER_PRIORITY } from './error-protocol';\nimport { HttpError } from './http-error';\nimport { HttpStatus } from '../../common/http';\n\n@injectable()\nexport abstract class AbstractErrorHandler implements ErrorHandler {\n    readonly priority: number = DEFALUT_ERROR_HANDlER_PRIORITY;\n\n    canHandle(ctx: Context, err: Error): Promise<boolean> {\n        return Promise.resolve(true);\n    }\n\n    async handle(ctx: Context, err: Error): Promise<void> {\n        console.error(err);\n        ctx.response.statusCode = HttpStatus.INTERNAL_SERVER_ERROR;\n        ctx.response.end(err.message);\n        await this.doHandle(ctx, err);\n    }\n\n    doHandle(ctx: Context, err: Error): Promise<void> {\n        return Promise.resolve();\n    }\n}\n\n@Component(ErrorHandler)\nexport class DefaultErrorHandler extends AbstractErrorHandler {\n}\n\n@Component(ErrorHandler)\nexport class HttpErrorHandler implements ErrorHandler {\n    readonly priority: number = HTTP_ERROR_HANDlER_PRIORITY;\n\n    canHandle(ctx: Context, err: Error): Promise<boolean> {\n        return Promise.resolve(err instanceof HttpError);\n    }\n\n    async handle(ctx: Context, err: HttpError): Promise<void> {\n        ctx.response.statusCode = err.statusCode;\n        ctx.response.end(err.message);\n    }\n}\n\n@Component(ErrorHandler)\nexport class ValidationErrorsHandler implements ErrorHandler {\n    readonly priority: number = VALIDATION_ERRORS_ERROR_HANDlER_PRIORITY;\n\n    canHandle(ctx: Context, err: Error): Promise<boolean> {\n        return Promise.resolve(err instanceof ValidationErrors);\n    }\n\n    async handle(ctx: Context, err: HttpError): Promise<void> {\n        ctx.response.statusCode = HttpStatus.BAD_REQUEST;\n        ctx.response.end(err.message);\n    }\n}\n\n@Component()\nexport class ErrorHandlerProvider {\n\n    protected prioritized: ErrorHandler[];\n\n    constructor(\n        @Autowired(ErrorHandler)\n        protected readonly handlers: ErrorHandler[]\n    ) { }\n\n    provide(): ErrorHandler[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.handlers).map(c => c.value);\n        }\n        return this.prioritized;\n    }\n\n}\n","import { Context } from '../context';\n\nexport const ErrorHandler = Symbol('ErrorHandler');\n\nexport const DEFALUT_ERROR_HANDlER_PRIORITY = 500;\nexport const HTTP_ERROR_HANDlER_PRIORITY = DEFALUT_ERROR_HANDlER_PRIORITY + 100;\nexport const VALIDATION_ERRORS_ERROR_HANDlER_PRIORITY = HTTP_ERROR_HANDlER_PRIORITY + 100;\n\nexport interface ErrorHandler {\n    readonly priority: number;\n    canHandle(ctx: Context, err: Error): Promise<boolean>;\n    handle(ctx: Context, err: Error): Promise<void>;\n}\n","import { CustomError } from '@malagu/core';\n\nexport class HttpError extends CustomError {\n\n    constructor(public statusCode: number, message?: string) {\n        super(message);\n    }\n\n}\n","export * from './http-error';\nexport * from './error-hander-provider';\nexport * from './error-protocol';\nexport * from './not-found-error';\n","import { HttpError } from './http-error';\nimport { HttpStatus } from '../../common/http';\n\nexport class NotFoundError extends HttpError {\n\n    constructor(message?: string) {\n        super(HttpStatus.NOT_FOUND, message);\n    }\n\n}\n\nexport class NotFoundAndContinueError extends NotFoundError {\n\n}\n","import { compose, Middleware } from '../middleware';\nimport { Component, Autowired } from '@malagu/core';\nimport { Context } from '../context';\nimport { HandlerExecutionChain, HandlerMapping } from './handler-protocol';\n\n@Component(HandlerExecutionChain)\nexport class HandlerExecutionChainImpl implements HandlerExecutionChain {\n\n    @Autowired(HandlerMapping)\n    protected readonly handlerMapping: HandlerMapping;\n\n    execute(middlewares: Middleware[]): Promise<void> {\n        const middleware = compose(middlewares);\n        return middleware(Context.getCurrent(), {\n            handle: (c: Context, next: () => Promise<void>) => this.handlerMapping.handle(),\n            priority: 0\n        });\n    }\n\n}\n","import { Autowired, Component, Prioritizeable } from '@malagu/core';\nimport { HandlerMapping, HandlerAdapter } from './handler-protocol';\nimport { NotFoundError } from '../error';\nimport { NotFoundAndContinueError } from '../error';\nimport { Context } from '../context';\n\n@Component(HandlerMapping)\nexport class HandlerMappingImpl implements HandlerMapping {\n\n    protected prioritized: HandlerAdapter[];\n\n    constructor(\n        @Autowired(HandlerAdapter)\n        protected readonly handlerAdapters: HandlerAdapter[]\n    ) {\n        this.prioritized = Prioritizeable.prioritizeAllSync(this.handlerAdapters).map(c => c.value);\n    }\n\n    async handle(): Promise<void> {\n        let lastError;\n        for (const handler of this.prioritized) {\n            if (await handler.canHandle()) {\n                try {\n                    await handler.handle();\n                    return;\n                } catch (error) {\n                    if (error instanceof NotFoundAndContinueError) {\n                        lastError = error;\n                    } else {\n                        throw error;\n                    }\n                }\n            }\n        }\n        if (lastError) {\n            throw lastError;\n        }\n        throw new NotFoundError(`Not found a suitable handler adapter: ${ Context.getRequest().path }`);\n    }\n\n}\n","import { Middleware } from '../middleware';\n\nexport const HandlerExecutionChain = Symbol('HandlerExecutionChain');\n\nexport const HandlerAdapter = Symbol('HandlerAdapter');\n\nexport const HandlerMapping = Symbol('HandlerMapping');\n\nexport interface HandlerExecutionChain {\n    execute(middlewares: Middleware[]): Promise<void>;\n}\n\nexport interface HandlerAdapter {\n    readonly priority: number;\n    handle(): Promise<void>;\n    canHandle(): Promise<boolean>;\n}\n\nexport interface HandlerMapping {\n    handle(): Promise<void>;\n}\n","export * from './handler-execution-chain';\nexport * from './handler-mapping';\nexport * from './handler-protocol';\n","import { Middleware } from '../middleware';\nimport { Context } from '../context';\nimport { Component, Deferred } from '@malagu/core';\nimport { HTTP_MIDDLEWARE_PRIORITY } from './http-protocol';\n\n@Component(Middleware)\nexport class HttpMiddleware implements Middleware {\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n        await next();\n        const response = ctx.response;\n        if (!Context.isSkipAutoEnd() && !response.finished) {\n            const body = response.body;\n            if (body instanceof Deferred) {\n                response.end(await body.promise);\n            } else {\n                response.end(response.body);\n            }\n        }\n    }\n\n    readonly priority = HTTP_MIDDLEWARE_PRIORITY;\n\n}\n","import { Request as RawRequest, Response as RawResponse } from 'express';\nimport { CORS_MIDDLEWARE_PRIORITY } from '../cors';\n\nexport const HTTP_MIDDLEWARE_PRIORITY = CORS_MIDDLEWARE_PRIORITY - 100;\n\nexport interface Request extends RawRequest {\n}\n\nexport interface Response extends RawResponse {\n    body?: any;\n}\n","export * from './http-protocol';\nexport * from './http-middleware';\n","export * from './middleware';\nexport * from './middleware';\nexport * from './dispatcher';\nexport * from './context';\nexport * from './error';\nexport * from './handler';\nexport * from './cookies';\nexport * from './session';\nexport * from './http';\nexport * from './matcher';\nexport * from './cors';\nexport * from './trace';\nexport * from './redirect';\n","export * from './matcher-protocol';\nexport * from './request-matcher';\n","export const RequestMatcher = Symbol('RequestMatcher');\n\nexport interface RequestMatcher {\n    match(pattern: any, method?: string): Promise<any>;\n}\n","import { RequestMatcher } from './matcher-protocol';\nimport { Context } from '../context';\nimport { Component, Value } from '@malagu/core';\nimport * as UrlPattern from 'url-pattern';\n\n@Component(RequestMatcher)\nexport class RequestMatcherImpl implements RequestMatcher {\n    protected caches: Map<string, UrlPattern> = new Map<string, UrlPattern>();\n\n    @Value('malagu.web.route.cacheSize')\n    protected readonly cacheSize: number;\n\n    async match(pattern: any, method?: string): Promise<any> {\n        const request = Context.getRequest();\n        const path = request.path;\n        if (method && request.method && method.toUpperCase() !== request.method.toUpperCase()) {\n            return false;\n        }\n        pattern = pattern || '/';\n        let urlPathern: UrlPattern | undefined;\n        if (typeof pattern === 'string') {\n            urlPathern = this.caches.get(pattern);\n            if (!urlPathern) {\n                urlPathern = new UrlPattern(pattern);\n                if (this.caches.size < this.cacheSize) {\n                    this.caches.set(pattern, urlPathern);\n                }\n            }\n        } else {\n            urlPathern = new UrlPattern(pattern);\n        }\n        return urlPathern.match(path);\n    }\n\n}\n","import { Context } from '../context';\nimport { Middleware } from './middleware-provider';\n\nexport function compose(middlewares: Middleware[]) {\n    return (ctx: Context, next: Middleware) => {\n        let index = -1;\n        const dispatch = (i: number): Promise<void> => {\n            if (i <= index) {\n                return Promise.reject(new Error('next() called multiple times'));\n            }\n            index = i;\n            let middleware = middlewares[i];\n            if (i === middlewares.length) {\n                middleware = next;\n            }\n            if (!middleware) {\n                return Promise.resolve();\n            }\n            try {\n                return middleware.handle(ctx, (): Promise<void> => dispatch(i + 1));\n            } catch (err) {\n                return Promise.reject(err);\n            }\n        };\n        return dispatch(0);\n    };\n}\n","export * from './middleware-provider';\nexport * from './compose';\n","import { Context } from '../context';\nimport { Component, Autowired, Optional, Prioritizeable } from '@malagu/core';\n\nexport const Middleware = Symbol('Middleware');\n\nexport interface Middleware {\n\n    handle(ctx: Context, next: () => Promise<void>): Promise<void>;\n\n    readonly priority: number;\n}\n\n@Component()\nexport class MiddlewareProvider {\n\n    protected prioritized: Middleware[];\n\n    constructor(\n        @Autowired(Middleware) @Optional()\n        protected readonly middlewares: Middleware[]\n    ) { }\n\n    provide(): Middleware[] {\n        if (!this.prioritized) {\n            this.prioritized = Prioritizeable.prioritizeAllSync(this.middlewares).map(c => c.value);\n        }\n        return this.prioritized;\n    }\n\n}\n","import 'reflect-metadata';\nimport { autoBind } from '@malagu/core';\nimport '.';\n\nexport default autoBind();\n","export * from './redirect-protocol';\nexport * from './redirect-strategy';\n","export const RedirectStrategy = Symbol('RedirectStrategy');\n\nexport interface RedirectStrategy {\n    send(url: string): Promise<void>;\n}\n","import { RedirectStrategy } from './redirect-protocol';\nimport { Autowired, Component } from '@malagu/core';\nimport { Context } from '../context';\nimport { HttpStatus, HttpHeaders } from '../../common/http';\nimport { PathResolver } from '../../common/resolver';\n\n@Component(RedirectStrategy)\nexport class DefaultRedirectStrategy implements RedirectStrategy {\n\n    @Autowired(PathResolver)\n    protected readonly pathResolver: PathResolver;\n\n    async send(url: string): Promise<void> {\n        const response = Context.getResponse();\n        response.statusCode = HttpStatus.FOUND;\n        response.setHeader(HttpHeaders.LOCATION, await this.pathResolver.resolve(url));\n    }\n\n}\n","export * from './session-manager';\nexport * from './session';\nexport * from './session-store';\nexport * from './session-strategy';\nexport * from './session-middleware';\n","import { SessionManager, Session, SessionStrategy, SessionStore, COOKIE_EXP_DATE } from './session-protocol';\nimport { Autowired, Value, Component } from '@malagu/core';\nimport { Context } from '../context';\n\n@Component(SessionManager)\nexport class SessionManagerImpl implements SessionManager {\n\n    @Value('malagu.session.sessionIdKey')\n    protected readonly sessionIdKey: string;\n\n    @Value('malagu.session')\n    protected readonly sessionOptions: any;\n\n    @Autowired(SessionStrategy)\n    protected readonly sessionStrategy: SessionStrategy;\n\n    @Autowired(SessionStore)\n    protected readonly sessionStore: SessionStore;\n\n    protected async getSessionId() {\n        const cookies = Context.getCookies();\n        return cookies.get(this.sessionIdKey);\n    }\n\n    async get(): Promise<Session> {\n        if (Context.getSession()) {\n            return Context.getSession();\n        }\n        const sessionId = await this.getSessionId();\n        if (sessionId) {\n            const session = await this.sessionStore.get(sessionId);\n            if (session && await this.sessionStrategy.valid(session)) {\n                return session;\n            }\n        }\n        return this.sessionStrategy.create();\n    }\n\n    async remove(): Promise<void> {\n        if (Context.getSession()) {\n            await this.sessionStore.remove(Context.getSession().id);\n        }\n        Context.getCookies().set(this.sessionIdKey, '', {\n            expires: COOKIE_EXP_DATE,\n            maxAge: false,\n        });\n    }\n\n    async commit(): Promise<void> {\n        const session = Context.getSession();\n        if (!session) {\n            return;\n        }\n        if (await this.sessionStrategy.shouldSaveSession(session)) {\n            await this.sessionStore.set(session);\n            Context.getCookies().set(this.sessionIdKey, session.id, this.sessionOptions);\n        }\n    }\n\n}\n","import { Middleware } from '../middleware';\nimport { Context } from '../context';\nimport { Component, Value, Autowired } from '@malagu/core';\nimport { SessionManager, SESSION_MIDDLEWARE_PRIORITY } from './session-protocol';\n\n@Component(Middleware)\nexport class SessionMiddleware implements Middleware {\n\n    @Autowired(SessionManager)\n    protected readonly sessionManager: SessionManager;\n\n    @Value('malagu.session')\n    protected readonly sessionOptions: any;\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n        Context.setSession(await this.sessionManager.get());\n        try {\n            await next();\n        } finally {\n            if (this.sessionOptions.autoCommit) {\n                await this.sessionManager.commit();\n            }\n        }\n    }\n\n    readonly priority = SESSION_MIDDLEWARE_PRIORITY;\n\n}\n","import { COOKIES_MIDDLEWARE_PRIORITY } from '../cookies';\n\nexport const Session = Symbol('Session');\nexport const SessionStore = Symbol('SessionStore');\nexport const SessionManager = Symbol('SessionManager');\nexport const SessionStrategy = Symbol('SessionStrategy');\n\nexport const COOKIE_EXP_DATE = new Date('Thu, 01 Jan 1970 00:00:00 GMT');\n\nexport const SESSION_MIDDLEWARE_PRIORITY = COOKIES_MIDDLEWARE_PRIORITY - 100;\n\nexport interface Session {\n    id: string;\n    isNew: boolean;\n    expire: number;\n    maxAge: number;\n    readonly changed: boolean;\n    [key: string]: any;\n    toJSON(): any;\n\n}\n\nexport interface SessionStore {\n    get(id: string): Promise<Session | undefined>;\n    set(session: Session): Promise<void>;\n    remove(id: string): Promise<void>;\n}\n\nexport interface SessionManager {\n\n    get(): Promise<Session>;\n    remove(): Promise<void>;\n    commit(): Promise<void>;\n}\n\nexport interface SessionStrategy {\n    valid(session: Session): Promise<boolean>;\n    create(obj?: any): Promise<Session>;\n    shouldSaveSession(session: Session): Promise<boolean>;\n}\n","import { Session, SessionStrategy, SessionStore, COOKIE_EXP_DATE } from './session-protocol';\nimport { Autowired, Value, Component, Logger } from '@malagu/core';\nimport { Context } from '../context';\nconst { gzip, ungzip } = require('node-gzip');\n\n@Component(SessionStore)\nexport class CookieSessionStore implements SessionStore {\n\n    protected session: Session | undefined;\n\n    @Value('malagu.session')\n    protected readonly sessionOptions: any;\n\n    @Autowired(SessionStrategy)\n    protected readonly sessionStrategy: SessionStrategy;\n\n    @Autowired(Logger)\n    protected readonly logger: Logger;\n\n    async get(id: string): Promise<Session | undefined> {\n        const value = Context.getCookies().get(this.sessionOptions.sessionKey, this.sessionOptions);\n        if (value) {\n            try {\n                const decompressed = await ungzip(Buffer.from(value, 'base64'));\n                return this.sessionStrategy.create(JSON.parse(decompressed.toString()));\n            } catch (error) {\n                this.logger.error(error);\n            }\n\n        }\n    }\n\n    async set(session: Session): Promise<void> {\n        const compressed = await gzip(JSON.stringify(session.toJSON()));\n        Context.getCookies().set(this.sessionOptions.sessionKey, compressed.toString('base64'), this.sessionOptions);\n    }\n\n    async remove(id: string): Promise<void> {\n        Context.getCookies().set(this.sessionOptions.sessionKey, '', {\n            expires: COOKIE_EXP_DATE,\n            maxAge: false,\n        });\n    }\n\n}\n","import { SessionStrategy, Session } from './session-protocol';\nimport { SessionImpl } from './session';\nimport { Value, Component } from '@malagu/core';\n\n@Component(SessionStrategy)\nexport class SessionStrategyImpl implements SessionStrategy {\n\n    @Value('malagu.session')\n    protected readonly sessionOptions: any;\n\n    async valid(session: Session): Promise<boolean> {\n        if (session.expire && session.expire < Date.now()) {\n            return false;\n        }\n        return true;\n    }\n\n    create(obj?: any): Promise<Session> {\n        return Promise.resolve(new SessionImpl(this.sessionOptions, obj));\n    }\n\n    async shouldSaveSession(session: Session): Promise<boolean> {\n        if (session.changed) {\n            return true;\n        }\n        // save if opts.renew and session will expired\n        if (this.sessionOptions.renew === true) {\n            const expire = session.expire;\n            const maxAge = session.maxAge;\n            // renew when session will expired in maxAge / 2\n            if (expire && maxAge && expire - Date.now() < maxAge / 2) {\n                return true;\n            }\n        }\n        return false;\n    }\n}\n","import { Session } from './session-protocol';\nimport * as uuid from 'uuid/v4';\nconst crc = require('crc').crc32;\n\nexport class SessionImpl implements Session {\n    readonly id = uuid();\n    isNew: boolean = true;\n    expire: number;\n    maxAge: number;\n    protected _preHash: string;\n    constructor(sessionOptions: any, obj?: any) {\n        if (obj) {\n            this.isNew = false;\n            for (const key of Object.keys(obj)) {\n                (this as any)[key] = obj[key];\n            }\n        } else {\n            this.expire = sessionOptions.maxAge + Date.now();\n            this.maxAge = sessionOptions.maxAge;\n        }\n        this._preHash = this.hash();\n    }\n\n    protected hash() {\n        return crc(JSON.stringify(this.toJSON()));\n    }\n\n    toJSON(): any {\n        const obj: any = {};\n        for (const key of Object.keys(this)) {\n            if (key !== 'isNew' && key[0] !== '_') {\n                obj[key] = (this as any)[key];\n            }\n        }\n        return obj;\n    }\n\n    get changed() {\n        if (this._preHash !== this.hash()) {\n            return true;\n        }\n        return false;\n    }\n\n}\n","export * from './trace-middleware';\nexport * from './trace-protocol';\nexport * from './trace-id-resolver';\n","import { v4 } from 'uuid';\nimport { Component, Value } from '@malagu/core';\nimport { TraceIdResolver, TRACE_ID_REQUEST_FIELD } from './trace-protocol';\nimport { Context } from '../context';\n\n@Component(TraceIdResolver)\nexport class TraceIdResolverImpl implements TraceIdResolver {\n    @Value(TRACE_ID_REQUEST_FIELD)\n    protected readonly traceField: string;\n\n    resolve(): Promise<string> {\n        if (Context.getRequest() && this.traceField ) {\n            const traceId = Context.getRequest().get(this.traceField);\n            if (traceId) {\n                return Promise.resolve(traceId);\n            }\n        }\n        return Promise.resolve(v4());\n    }\n}\n","import { TraceIdResolver } from './trace-protocol';\nimport { Middleware } from '../middleware';\nimport { Context } from '../context';\nimport { Component, Autowired, Logger, Value } from '@malagu/core';\nimport { TRACE_MIDDLEWARE_PRIORITY, TRACE_ID_RESPONSE_FIELD } from './trace-protocol';\n\n@Component(Middleware)\nexport class TraceMiddleware implements Middleware {\n\n    @Autowired(TraceIdResolver)\n    protected readonly traceIdResolver: TraceIdResolver;\n\n    @Autowired(Logger)\n    protected readonly logger: Logger;\n\n    @Value(TRACE_ID_RESPONSE_FIELD)\n    protected readonly traceField: string;\n\n    async handle(ctx: Context, next: () => Promise<void>): Promise<void> {\n        const method = ctx.request.method;\n        const path = ctx.request.path;\n        const traceId = await this.traceIdResolver.resolve();\n        this.logger.info(`starting ${method} ${path} with traceId[${traceId}]`);\n        const now = Date.now();\n\n        Context.setTraceId(traceId);\n        ctx.response.setHeader(this.traceField, traceId);\n        try {\n            await next();\n        } finally {\n            this.logger.info(`ending ${method} ${path} with traceId[${traceId}], cost ${Date.now() - now}ms`);\n        }\n    }\n\n    readonly priority = TRACE_MIDDLEWARE_PRIORITY;\n\n}\n","// Be sure this middleware is always at first position\nexport const TRACE_MIDDLEWARE_PRIORITY = 2200;\n\nexport const TRACE_ID_REQUEST_FIELD = 'malagu.trace.requestField';\nexport const TRACE_ID_RESPONSE_FIELD = 'malagu.trace.responseField';\n\nexport const TraceIdResolver = Symbol('TraceIdResolver');\n\nexport interface TraceIdResolver {\n    resolve(): Promise<string>;\n}\n","import {Body, Controller, Get, Post} from '@malagu/mvc/lib/node';\r\nimport { Autowired } from '@malagu/core';\r\nimport {User} from \"../entity/User\";\r\nimport {resMessage} from \"../utils/resMessage\";\r\nimport {UserService} from \"../service/loginService\";\r\n\r\n@Controller('user')\r\nexport class UserController {\r\n\r\n    @Autowired()\r\n    private userService: UserService\r\n\r\n    @Post('login')\r\n    login(@Body() user: User): Promise<resMessage<User | undefined>> {\r\n        return this.userService.login(user)\r\n    }\r\n\r\n    @Get('isLogin')\r\n    isLogin(): Promise<resMessage<User | undefined>> {\r\n        return this.userService.isLogin()\r\n    }\r\n}\r\n","\r\n\r\nexport class User {\r\n    id: number;\r\n\r\n    username: string;\r\n\r\n    password: string;\r\n\r\n    token: ''\r\n}\r\n","import './controller/login'\nimport { autoBind } from '@malagu/core';\nexport default autoBind();\n","import { Component } from '@malagu/core';\r\nimport { Autorpc } from '@malagu/rpc';\r\nimport {User} from \"../entity/User\";\r\nimport {resMessage} from \"../utils/resMessage\";\r\nimport {responseData} from \"../utils/responseData\";\r\nimport { Context } from '@malagu/web/lib/node';\r\n\r\n@Component()\r\nexport class UserService {\r\n\r\n\r\n    @Autorpc('https://1476306111676342.cn-shanghai.fc.aliyuncs.com/2016-08-15/proxy/malagu.test/auth-vetify/api/UserInterfaceServive')\r\n    protected UserServer: any;\r\n\r\n    async login(user:User): Promise<resMessage<User | undefined>> {\r\n        let data = await this.UserServer.login(user)\r\n        if(data) {\r\n            Context.getSession().foo = data\r\n            let foo = Context.getSession()\r\n            console.log(foo);\r\n            return responseData<User>(0, data, '')\r\n        } else {\r\n            return responseData<User>(400, data, ',')\r\n        }\r\n    }\r\n\r\n    async isLogin(): Promise<resMessage<User | undefined>> {\r\n        let foo = Context.getSession().foo\r\n        console.log(foo);\r\n        if(foo) {\r\n            return Promise.resolve(responseData<User>(0, foo, ''))\r\n        } else {\r\n            return Promise.resolve(responseData<User>(0, foo, ''))\r\n        }\r\n    }\r\n}\r\n","export function responseData<T>(code: number, data:T, message: string) {\r\n    return {\r\n        code,\r\n        data,\r\n        message\r\n    }\r\n}","module.exports = require(\"axios\");","module.exports = require(\"class-transformer\");","module.exports = require(\"class-validator\");","module.exports = require(\"cookies\");","module.exports = require(\"cors\");","module.exports = require(\"crc\");","module.exports = require(\"express-http-context\");","module.exports = require(\"fs-extra\");","module.exports = require(\"inversify\");","module.exports = require(\"jexl\");","module.exports = require(\"loglevel\");","module.exports = require(\"mustache\");","module.exports = require(\"node-gzip\");","module.exports = require(\"path\");","module.exports = require(\"reflect-metadata\");","module.exports = require(\"source-map-support\");","module.exports = require(\"traverse\");","module.exports = require(\"ts-custom-error\");","module.exports = require(\"url-join\");","module.exports = require(\"url-pattern\");","module.exports = require(\"util\");","module.exports = require(\"uuid\");","module.exports = require(\"uuid/v4\");","module.exports = require(\"vscode-jsonrpc\");","module.exports = require(\"vscode-jsonrpc/lib/events\");"],"sourceRoot":""}